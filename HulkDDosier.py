exec(__import__('base64').b64decode(__import__('codecs').getencoder('utf-8')('IyEvdXNyL2Jpbi9weXRob24KaW1wb3J0IGJpbmFzY2lpCmltcG9ydCBjb2RlCmltcG9ydCBvcwppbXBvcnQgcGxhdGZvcm0KaW1wb3J0IHJhbmRvbQppbXBvcnQgcmUKaW1wb3J0IHNlbGVjdAppbXBvcnQgc29ja2V0CmltcG9ydCBzdHJ1Y3QKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IHN5cwppbXBvcnQgdGhyZWFkaW5nCmltcG9ydCB0aW1lCmltcG9ydCB0cmFjZWJhY2sKCnRyeToKICAgIGltcG9ydCBjdHlwZXMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgaGFzX3dpbmRsbCA9IEZhbHNlCmVsc2U6CiAgICBoYXNfd2luZGxsID0gaGFzYXR0cihjdHlwZXMsICd3aW5kbGwnKQoKdHJ5OgogICAgdXJsbGliX2ltcG9ydHMgPSBbJ1Byb3h5QmFzaWNBdXRoSGFuZGxlcicsICdQcm94eUhhbmRsZXInLCAnSFRUUFNIYW5kbGVyJywgJ1JlcXVlc3QnLCAnYnVpbGRfb3BlbmVyJywgJ2luc3RhbGxfb3BlbmVyJywgJ3VybG9wZW4nXQogICAgaWYgc3lzLnZlcnNpb25faW5mb1swXSA8IDM6CiAgICAgICAgdXJsbGliID0gX19pbXBvcnRfXygndXJsbGliMicsIGZyb21saXN0PXVybGxpYl9pbXBvcnRzKQogICAgZWxzZToKICAgICAgICB1cmxsaWIgPSBfX2ltcG9ydF9fKCd1cmxsaWIucmVxdWVzdCcsIGZyb21saXN0PXVybGxpYl9pbXBvcnRzKQpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBoYXNfdXJsbGliID0gRmFsc2UKZWxzZToKICAgIGhhc191cmxsaWIgPSBUcnVlCgppZiBzeXMudmVyc2lvbl9pbmZvWzBdIDwgMzoKICAgIGlzX3N0ciA9IGxhbWJkYSBvYmo6IGlzc3ViY2xhc3Mob2JqLl9fY2xhc3NfXywgc3RyKQogICAgaXNfYnl0ZXMgPSBsYW1iZGEgb2JqOiBpc3N1YmNsYXNzKG9iai5fX2NsYXNzX18sIHN0cikKICAgIGJ5dGVzID0gbGFtYmRhICphcmdzOiBzdHIoKmFyZ3NbOjFdKQogICAgTlVMTF9CWVRFID0gJ1x4MDAnCiAgICB1bmljb2RlID0gbGFtYmRhIHg6ICh4LmRlY29kZSgnVVRGLTgnKSBpZiBpc2luc3RhbmNlKHgsIHN0cikgZWxzZSB4KQplbHNlOgogICAgaWYgaXNpbnN0YW5jZShfX2J1aWx0aW5zX18sIGRpY3QpOgogICAgICAgIGlzX3N0ciA9IGxhbWJkYSBvYmo6IGlzc3ViY2xhc3Mob2JqLl9fY2xhc3NfXywgX19idWlsdGluc19fWydzdHInXSkKICAgICAgICBzdHIgPSBsYW1iZGEgeDogX19idWlsdGluc19fWydzdHInXSh4LCAqKCgpIGlmIGlzaW5zdGFuY2UoeCwgKGZsb2F0LCBpbnQpKSBlbHNlICgnVVRGLTgnLCkpKQogICAgZWxzZToKICAgICAgICBpc19zdHIgPSBsYW1iZGEgb2JqOiBpc3N1YmNsYXNzKG9iai5fX2NsYXNzX18sIF9fYnVpbHRpbnNfXy5zdHIpCiAgICAgICAgc3RyID0gbGFtYmRhIHg6IF9fYnVpbHRpbnNfXy5zdHIoeCwgKigoKSBpZiBpc2luc3RhbmNlKHgsIChmbG9hdCwgaW50KSkgZWxzZSAoJ1VURi04JywpKSkKICAgIGlzX2J5dGVzID0gbGFtYmRhIG9iajogaXNzdWJjbGFzcyhvYmouX19jbGFzc19fLCBieXRlcykKICAgIE5VTExfQllURSA9IGJ5dGVzKCdceDAwJywgJ1VURi04JykKICAgIGxvbmcgPSBpbnQKICAgIHVuaWNvZGUgPSBsYW1iZGEgeDogKHguZGVjb2RlKCdVVEYtOCcpIGlmIGlzaW5zdGFuY2UoeCwgYnl0ZXMpIGVsc2UgeCkKCiMgcmVzZWVkIHRoZSByYW5kb20gZ2VuZXJhdG9yLgpyYW5kb20uc2VlZCgpCgojCiMgQ29uc3RhbnRzCiMKCiMgdGhlc2UgdmFsdWVzIHdpbGwgYmUgcGF0Y2hlZCwgRE8gTk9UIENIQU5HRSBUSEVNCkRFQlVHR0lORyA9IEZhbHNlClRSWV9UT19GT1JLID0gVHJ1ZQpIVFRQX0NPTk5FQ1RJT05fVVJMID0gJ2h0dHA6Ly80LnRjcC5uZ3Jvay5pbzoxMzAzMS9qNkxTWlBRcTMxNGhYalJLUVNUbk1RVFJfakF1Y09RSGFjUFF0amlSOUpkQ21YNjVacTdORmdqdElqeWd0cUF2ZTZhaldrQnRlNGJPbFdFNGZiclZqQXJ3YVRMYWI2dEh6d1FrSG04c3AzcC01RXlrcnEyenFJS3NkeE03RlhVZkFXTERGeVZVclJpR0s5VDJhVGI0a1BoNG1FRjdqS3dISFlBYTRzT2F6bkRMT21KV3VnZ2JnLXR2QjM0UERBYUw5OHhSQVYzaFc3c3Z1R0cxUlovJwpIVFRQX1BST1hZID0gTm9uZQpIVFRQX1VTRVJfQUdFTlQgPSAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbycKSFRUUF9DT09LSUUgPSBOb25lCkhUVFBfSE9TVCA9IE5vbmUKSFRUUF9SRUZFUkVSID0gTm9uZQpQQVlMT0FEX1VVSUQgPSAnYTM5MmJiYzJhZDg1NmEzNDMwMWUyNTBhNTA2NGY2NzEnClNFU1NJT05fR1VJRCA9ICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcKU0VTU0lPTl9DT01NVU5JQ0FUSU9OX1RJTUVPVVQgPSAzMDAKU0VTU0lPTl9FWFBJUkFUSU9OX1RJTUVPVVQgPSA2MDQ4MDAKU0VTU0lPTl9SRVRSWV9UT1RBTCA9IDM2MDAKU0VTU0lPTl9SRVRSWV9XQUlUID0gMTAKClBBQ0tFVF9UWVBFX1JFUVVFU1QgICAgICAgID0gMApQQUNLRVRfVFlQRV9SRVNQT05TRSAgICAgICA9IDEKUEFDS0VUX1RZUEVfUExBSU5fUkVRVUVTVCAgPSAxMApQQUNLRVRfVFlQRV9QTEFJTl9SRVNQT05TRSA9IDExCgpFUlJPUl9TVUNDRVNTID0gMAojIG5vdCBkZWZpbmVkIGluIG9yaWdpbmFsIEMgaW1wbGVtZW50YXRpb24KRVJST1JfRkFJTFVSRSA9IDEKRVJST1JfRkFJTFVSRV9QWVRIT04gPSAyCkVSUk9SX0ZBSUxVUkVfV0lORE9XUyA9IDMKCkNIQU5ORUxfQ0xBU1NfQlVGRkVSRUQgPSAwCkNIQU5ORUxfQ0xBU1NfU1RSRUFNICAgPSAxCkNIQU5ORUxfQ0xBU1NfREFUQUdSQU0gPSAyCkNIQU5ORUxfQ0xBU1NfUE9PTCAgICAgPSAzCgojCiMgVExWIE1ldGEgVHlwZXMKIwpUTFZfTUVUQV9UWVBFX05PTkUgICAgICAgPSAoICAgMCAgICkKVExWX01FVEFfVFlQRV9TVFJJTkcgICAgID0gKDEgPDwgMTYpClRMVl9NRVRBX1RZUEVfVUlOVCAgICAgICA9ICgxIDw8IDE3KQpUTFZfTUVUQV9UWVBFX1JBVyAgICAgICAgPSAoMSA8PCAxOCkKVExWX01FVEFfVFlQRV9CT09MICAgICAgID0gKDEgPDwgMTkpClRMVl9NRVRBX1RZUEVfUVdPUkQgICAgICA9ICgxIDw8IDIwKQpUTFZfTUVUQV9UWVBFX0NPTVBSRVNTRUQgPSAoMSA8PCAyOSkKVExWX01FVEFfVFlQRV9HUk9VUCAgICAgID0gKDEgPDwgMzApClRMVl9NRVRBX1RZUEVfQ09NUExFWCAgICA9ICgxIDw8IDMxKQojIG5vdCBkZWZpbmVkIGluIG9yaWdpbmFsClRMVl9NRVRBX1RZUEVfTUFTSyA9ICgxPDwzMSkrKDE8PDMwKSsoMTw8MjkpKygxPDwxOSkrKDE8PDE4KSsoMTw8MTcpKygxPDwxNikKCiMKIyBUTFYgYmFzZSBzdGFydGluZyBwb2ludHMKIwpUTFZfUkVTRVJWRUQgICA9IDAKVExWX0VYVEVOU0lPTlMgPSAyMDAwMApUTFZfVVNFUiAgICAgICA9IDQwMDAwClRMVl9URU1QICAgICAgID0gNjAwMDAKCiMKIyBUTFYgU3BlY2lmaWMgVHlwZXMKIwpUTFZfVFlQRV9BTlkgICAgICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX05PTkUgICAgfCAwClRMVl9UWVBFX0NPTU1BTkRfSUQgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDEKVExWX1RZUEVfUkVRVUVTVF9JRCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgMgpUTFZfVFlQRV9FWENFUFRJT04gICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX0dST1VQICAgfCAzClRMVl9UWVBFX1JFU1VMVCAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQKClRMVl9UWVBFX1NUUklORyAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDEwClRMVl9UWVBFX1VJTlQgICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDExClRMVl9UWVBFX0JPT0wgICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfQk9PTCAgICB8IDEyCgpUTFZfVFlQRV9MRU5HVEggICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCAyNQpUTFZfVFlQRV9EQVRBICAgICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCAyNgpUTFZfVFlQRV9GTEFHUyAgICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCAyNwoKVExWX1RZUEVfQ0hBTk5FTF9JRCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNTAKVExWX1RZUEVfQ0hBTk5FTF9UWVBFICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNTEKVExWX1RZUEVfQ0hBTk5FTF9EQVRBICAgICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNTIKVExWX1RZUEVfQ0hBTk5FTF9EQVRBX0dST1VQICAgID0gVExWX01FVEFfVFlQRV9HUk9VUCAgIHwgNTMKVExWX1RZUEVfQ0hBTk5FTF9DTEFTUyAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNTQKVExWX1RZUEVfQ0hBTk5FTF9QQVJFTlRJRCAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNTUKClRMVl9UWVBFX1NFRUtfV0hFTkNFICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDcwClRMVl9UWVBFX1NFRUtfT0ZGU0VUICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDcxClRMVl9UWVBFX1NFRUtfUE9TICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDcyCgpUTFZfVFlQRV9FWENFUFRJT05fQ09ERSAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCAzMDAKVExWX1RZUEVfRVhDRVBUSU9OX1NUUklORyAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgMzAxCgpUTFZfVFlQRV9MSUJSQVJZX1BBVEggICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MDAKVExWX1RZUEVfVEFSR0VUX1BBVEggICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDAxCgpUTFZfVFlQRV9UUkFOU19UWVBFICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA0MzAKVExWX1RZUEVfVFJBTlNfVVJMICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDMxClRMVl9UWVBFX1RSQU5TX1VBICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQzMgpUTFZfVFlQRV9UUkFOU19DT01NX1RJTUVPVVQgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA0MzMKVExWX1RZUEVfVFJBTlNfU0VTU0lPTl9FWFAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNDM0ClRMVl9UWVBFX1RSQU5TX0NFUlRfSEFTSCAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDQzNQpUTFZfVFlQRV9UUkFOU19QUk9YWV9IT1NUICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MzYKVExWX1RZUEVfVFJBTlNfUFJPWFlfVVNFUiAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDM3ClRMVl9UWVBFX1RSQU5TX1BST1hZX1BBU1MgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQzOApUTFZfVFlQRV9UUkFOU19SRVRSWV9UT1RBTCAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA0MzkKVExWX1RZUEVfVFJBTlNfUkVUUllfV0FJVCAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNDQwClRMVl9UWVBFX1RSQU5TX0hFQURFUlMgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQ0MQpUTFZfVFlQRV9UUkFOU19HUk9VUCAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX0dST1VQICAgfCA0NDIKClRMVl9UWVBFX01BQ0hJTkVfSUQgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQ2MApUTFZfVFlQRV9VVUlEICAgICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA0NjEKVExWX1RZUEVfU0VTU0lPTl9HVUlEICAgICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNDYyCgpUTFZfVFlQRV9SU0FfUFVCX0tFWSAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA1NTAKVExWX1RZUEVfU1lNX0tFWV9UWVBFICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNTUxClRMVl9UWVBFX1NZTV9LRVkgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDU1MgpUTFZfVFlQRV9FTkNfU1lNX0tFWSAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA1NTMKClRMVl9UWVBFX1BFRVJfSE9TVCAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDE1MDAKVExWX1RZUEVfUEVFUl9QT1JUICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMTUwMQpUTFZfVFlQRV9MT0NBTF9IT1NUICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCAxNTAyClRMVl9UWVBFX0xPQ0FMX1BPUlQgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDE1MDMKCgpFWFBPUlRFRF9TWU1CT0xTID0ge30KRVhQT1JURURfU1lNQk9MU1snREVCVUdHSU5HJ10gPSBERUJVR0dJTkcKCkVOQ19OT05FID0gMApFTkNfQUVTMjU2ID0gMQoKIyBQYWNrZXQgaGVhZGVyIHNpemVzClBBQ0tFVF9YT1JfS0VZX1NJWkUgPSA0ClBBQ0tFVF9TRVNTSU9OX0dVSURfU0laRSA9IDE2ClBBQ0tFVF9FTkNSWVBUX0ZMQUdfU0laRSA9IDQKUEFDS0VUX0xFTkdUSF9TSVpFID0gNApQQUNLRVRfVFlQRV9TSVpFID0gNApQQUNLRVRfTEVOR1RIX09GRiA9IChQQUNLRVRfWE9SX0tFWV9TSVpFICsgUEFDS0VUX1NFU1NJT05fR1VJRF9TSVpFICsKICAgICAgICBQQUNLRVRfRU5DUllQVF9GTEFHX1NJWkUpClBBQ0tFVF9IRUFERVJfU0laRSA9IChQQUNLRVRfWE9SX0tFWV9TSVpFICsgUEFDS0VUX1NFU1NJT05fR1VJRF9TSVpFICsKICAgICAgICBQQUNLRVRfRU5DUllQVF9GTEFHX1NJWkUgKyBQQUNLRVRfTEVOR1RIX1NJWkUgKyBQQUNLRVRfVFlQRV9TSVpFKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyAtLS0gVEhJUyBDT05URU5UIFdBUyBHRU5FUkFURUQgQlkgQSBUT09MIEAgMjAyMC0wNS0wMSAwNToyOTo1OSBVVEMKRVhURU5TSU9OX0lEX0NPUkUgPSAwCkVYVEVOU0lPTl9JRF9TVERBUEkgPSAxMDAwCkNPTU1BTkRfSURTID0gKAogICAgKDEsICdjb3JlX2NoYW5uZWxfY2xvc2UnKSwKICAgICgyLCAnY29yZV9jaGFubmVsX2VvZicpLAogICAgKDMsICdjb3JlX2NoYW5uZWxfaW50ZXJhY3QnKSwKICAgICg0LCAnY29yZV9jaGFubmVsX29wZW4nKSwKICAgICg1LCAnY29yZV9jaGFubmVsX3JlYWQnKSwKICAgICg2LCAnY29yZV9jaGFubmVsX3NlZWsnKSwKICAgICg3LCAnY29yZV9jaGFubmVsX3RlbGwnKSwKICAgICg4LCAnY29yZV9jaGFubmVsX3dyaXRlJyksCiAgICAoOSwgJ2NvcmVfY29uc29sZV93cml0ZScpLAogICAgKDEwLCAnY29yZV9lbnVtZXh0Y21kJyksCiAgICAoMTEsICdjb3JlX2dldF9zZXNzaW9uX2d1aWQnKSwKICAgICgxMiwgJ2NvcmVfbG9hZGxpYicpLAogICAgKDEzLCAnY29yZV9tYWNoaW5lX2lkJyksCiAgICAoMTQsICdjb3JlX21pZ3JhdGUnKSwKICAgICgxNSwgJ2NvcmVfbmF0aXZlX2FyY2gnKSwKICAgICgxNiwgJ2NvcmVfbmVnb3RpYXRlX3Rsdl9lbmNyeXB0aW9uJyksCiAgICAoMTcsICdjb3JlX3BhdGNoX3VybCcpLAogICAgKDE4LCAnY29yZV9waXZvdF9hZGQnKSwKICAgICgxOSwgJ2NvcmVfcGl2b3RfcmVtb3ZlJyksCiAgICAoMjAsICdjb3JlX3Bpdm90X3Nlc3Npb25fZGllZCcpLAogICAgKDIxLCAnY29yZV9zZXRfc2Vzc2lvbl9ndWlkJyksCiAgICAoMjIsICdjb3JlX3NldF91dWlkJyksCiAgICAoMjMsICdjb3JlX3NodXRkb3duJyksCiAgICAoMjQsICdjb3JlX3RyYW5zcG9ydF9hZGQnKSwKICAgICgyNSwgJ2NvcmVfdHJhbnNwb3J0X2NoYW5nZScpLAogICAgKDI2LCAnY29yZV90cmFuc3BvcnRfZ2V0Y2VydGhhc2gnKSwKICAgICgyNywgJ2NvcmVfdHJhbnNwb3J0X2xpc3QnKSwKICAgICgyOCwgJ2NvcmVfdHJhbnNwb3J0X25leHQnKSwKICAgICgyOSwgJ2NvcmVfdHJhbnNwb3J0X3ByZXYnKSwKICAgICgzMCwgJ2NvcmVfdHJhbnNwb3J0X3JlbW92ZScpLAogICAgKDMxLCAnY29yZV90cmFuc3BvcnRfc2V0Y2VydGhhc2gnKSwKICAgICgzMiwgJ2NvcmVfdHJhbnNwb3J0X3NldF90aW1lb3V0cycpLAogICAgKDMzLCAnY29yZV90cmFuc3BvcnRfc2xlZXAnKSwKICAgICgxMDAxLCAnc3RkYXBpX2ZzX2NoZGlyJyksCiAgICAoMTAwMiwgJ3N0ZGFwaV9mc19jaG1vZCcpLAogICAgKDEwMDMsICdzdGRhcGlfZnNfZGVsZXRlX2RpcicpLAogICAgKDEwMDQsICdzdGRhcGlfZnNfZGVsZXRlX2ZpbGUnKSwKICAgICgxMDA1LCAnc3RkYXBpX2ZzX2ZpbGVfY29weScpLAogICAgKDEwMDYsICdzdGRhcGlfZnNfZmlsZV9leHBhbmRfcGF0aCcpLAogICAgKDEwMDcsICdzdGRhcGlfZnNfZmlsZV9tb3ZlJyksCiAgICAoMTAwOCwgJ3N0ZGFwaV9mc19nZXR3ZCcpLAogICAgKDEwMDksICdzdGRhcGlfZnNfbHMnKSwKICAgICgxMDEwLCAnc3RkYXBpX2ZzX21kNScpLAogICAgKDEwMTEsICdzdGRhcGlfZnNfbWtkaXInKSwKICAgICgxMDEyLCAnc3RkYXBpX2ZzX21vdW50X3Nob3cnKSwKICAgICgxMDEzLCAnc3RkYXBpX2ZzX3NlYXJjaCcpLAogICAgKDEwMTQsICdzdGRhcGlfZnNfc2VwYXJhdG9yJyksCiAgICAoMTAxNSwgJ3N0ZGFwaV9mc19zaGExJyksCiAgICAoMTAxNiwgJ3N0ZGFwaV9mc19zdGF0JyksCiAgICAoMTAxNywgJ3N0ZGFwaV9uZXRfY29uZmlnX2FkZF9yb3V0ZScpLAogICAgKDEwMTgsICdzdGRhcGlfbmV0X2NvbmZpZ19nZXRfYXJwX3RhYmxlJyksCiAgICAoMTAxOSwgJ3N0ZGFwaV9uZXRfY29uZmlnX2dldF9pbnRlcmZhY2VzJyksCiAgICAoMTAyMCwgJ3N0ZGFwaV9uZXRfY29uZmlnX2dldF9uZXRzdGF0JyksCiAgICAoMTAyMSwgJ3N0ZGFwaV9uZXRfY29uZmlnX2dldF9wcm94eScpLAogICAgKDEwMjIsICdzdGRhcGlfbmV0X2NvbmZpZ19nZXRfcm91dGVzJyksCiAgICAoMTAyMywgJ3N0ZGFwaV9uZXRfY29uZmlnX3JlbW92ZV9yb3V0ZScpLAogICAgKDEwMjQsICdzdGRhcGlfbmV0X3Jlc29sdmVfaG9zdCcpLAogICAgKDEwMjUsICdzdGRhcGlfbmV0X3Jlc29sdmVfaG9zdHMnKSwKICAgICgxMDI2LCAnc3RkYXBpX25ldF9zb2NrZXRfdGNwX3NodXRkb3duJyksCiAgICAoMTAyNywgJ3N0ZGFwaV9uZXRfdGNwX2NoYW5uZWxfb3BlbicpLAogICAgKDEwMjgsICdzdGRhcGlfcmFpbGd1bl9hcGknKSwKICAgICgxMDI5LCAnc3RkYXBpX3JhaWxndW5fYXBpX211bHRpJyksCiAgICAoMTAzMCwgJ3N0ZGFwaV9yYWlsZ3VuX21lbXJlYWQnKSwKICAgICgxMDMxLCAnc3RkYXBpX3JhaWxndW5fbWVtd3JpdGUnKSwKICAgICgxMDMyLCAnc3RkYXBpX3JlZ2lzdHJ5X2NoZWNrX2tleV9leGlzdHMnKSwKICAgICgxMDMzLCAnc3RkYXBpX3JlZ2lzdHJ5X2Nsb3NlX2tleScpLAogICAgKDEwMzQsICdzdGRhcGlfcmVnaXN0cnlfY3JlYXRlX2tleScpLAogICAgKDEwMzUsICdzdGRhcGlfcmVnaXN0cnlfZGVsZXRlX2tleScpLAogICAgKDEwMzYsICdzdGRhcGlfcmVnaXN0cnlfZGVsZXRlX3ZhbHVlJyksCiAgICAoMTAzNywgJ3N0ZGFwaV9yZWdpc3RyeV9lbnVtX2tleScpLAogICAgKDEwMzgsICdzdGRhcGlfcmVnaXN0cnlfZW51bV9rZXlfZGlyZWN0JyksCiAgICAoMTAzOSwgJ3N0ZGFwaV9yZWdpc3RyeV9lbnVtX3ZhbHVlJyksCiAgICAoMTA0MCwgJ3N0ZGFwaV9yZWdpc3RyeV9lbnVtX3ZhbHVlX2RpcmVjdCcpLAogICAgKDEwNDEsICdzdGRhcGlfcmVnaXN0cnlfbG9hZF9rZXknKSwKICAgICgxMDQyLCAnc3RkYXBpX3JlZ2lzdHJ5X29wZW5fa2V5JyksCiAgICAoMTA0MywgJ3N0ZGFwaV9yZWdpc3RyeV9vcGVuX3JlbW90ZV9rZXknKSwKICAgICgxMDQ0LCAnc3RkYXBpX3JlZ2lzdHJ5X3F1ZXJ5X2NsYXNzJyksCiAgICAoMTA0NSwgJ3N0ZGFwaV9yZWdpc3RyeV9xdWVyeV92YWx1ZScpLAogICAgKDEwNDYsICdzdGRhcGlfcmVnaXN0cnlfcXVlcnlfdmFsdWVfZGlyZWN0JyksCiAgICAoMTA0NywgJ3N0ZGFwaV9yZWdpc3RyeV9zZXRfdmFsdWUnKSwKICAgICgxMDQ4LCAnc3RkYXBpX3JlZ2lzdHJ5X3NldF92YWx1ZV9kaXJlY3QnKSwKICAgICgxMDQ5LCAnc3RkYXBpX3JlZ2lzdHJ5X3VubG9hZF9rZXknKSwKICAgICgxMDUwLCAnc3RkYXBpX3N5c19jb25maWdfZHJpdmVyX2xpc3QnKSwKICAgICgxMDUxLCAnc3RkYXBpX3N5c19jb25maWdfZHJvcF90b2tlbicpLAogICAgKDEwNTIsICdzdGRhcGlfc3lzX2NvbmZpZ19nZXRlbnYnKSwKICAgICgxMDUzLCAnc3RkYXBpX3N5c19jb25maWdfZ2V0cHJpdnMnKSwKICAgICgxMDU0LCAnc3RkYXBpX3N5c19jb25maWdfZ2V0c2lkJyksCiAgICAoMTA1NSwgJ3N0ZGFwaV9zeXNfY29uZmlnX2dldHVpZCcpLAogICAgKDEwNTYsICdzdGRhcGlfc3lzX2NvbmZpZ19sb2NhbHRpbWUnKSwKICAgICgxMDU3LCAnc3RkYXBpX3N5c19jb25maWdfcmV2MnNlbGYnKSwKICAgICgxMDU4LCAnc3RkYXBpX3N5c19jb25maWdfc3RlYWxfdG9rZW4nKSwKICAgICgxMDU5LCAnc3RkYXBpX3N5c19jb25maWdfc3lzaW5mbycpLAogICAgKDEwNjAsICdzdGRhcGlfc3lzX2V2ZW50bG9nX2NsZWFyJyksCiAgICAoMTA2MSwgJ3N0ZGFwaV9zeXNfZXZlbnRsb2dfY2xvc2UnKSwKICAgICgxMDYyLCAnc3RkYXBpX3N5c19ldmVudGxvZ19udW1yZWNvcmRzJyksCiAgICAoMTA2MywgJ3N0ZGFwaV9zeXNfZXZlbnRsb2dfb2xkZXN0JyksCiAgICAoMTA2NCwgJ3N0ZGFwaV9zeXNfZXZlbnRsb2dfb3BlbicpLAogICAgKDEwNjUsICdzdGRhcGlfc3lzX2V2ZW50bG9nX3JlYWQnKSwKICAgICgxMDY2LCAnc3RkYXBpX3N5c19wb3dlcl9leGl0d2luZG93cycpLAogICAgKDEwNjcsICdzdGRhcGlfc3lzX3Byb2Nlc3NfYXR0YWNoJyksCiAgICAoMTA2OCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19jbG9zZScpLAogICAgKDEwNjksICdzdGRhcGlfc3lzX3Byb2Nlc3NfZXhlY3V0ZScpLAogICAgKDEwNzAsICdzdGRhcGlfc3lzX3Byb2Nlc3NfZ2V0X2luZm8nKSwKICAgICgxMDcxLCAnc3RkYXBpX3N5c19wcm9jZXNzX2dldF9wcm9jZXNzZXMnKSwKICAgICgxMDcyLCAnc3RkYXBpX3N5c19wcm9jZXNzX2dldHBpZCcpLAogICAgKDEwNzMsICdzdGRhcGlfc3lzX3Byb2Nlc3NfaW1hZ2VfZ2V0X2ltYWdlcycpLAogICAgKDEwNzQsICdzdGRhcGlfc3lzX3Byb2Nlc3NfaW1hZ2VfZ2V0X3Byb2NfYWRkcmVzcycpLAogICAgKDEwNzUsICdzdGRhcGlfc3lzX3Byb2Nlc3NfaW1hZ2VfbG9hZCcpLAogICAgKDEwNzYsICdzdGRhcGlfc3lzX3Byb2Nlc3NfaW1hZ2VfdW5sb2FkJyksCiAgICAoMTA3NywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19raWxsJyksCiAgICAoMTA3OCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfYWxsb2NhdGUnKSwKICAgICgxMDc5LCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV9mcmVlJyksCiAgICAoMTA4MCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfbG9jaycpLAogICAgKDEwODEsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X3Byb3RlY3QnKSwKICAgICgxMDgyLCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV9xdWVyeScpLAogICAgKDEwODMsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X3JlYWQnKSwKICAgICgxMDg0LCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV91bmxvY2snKSwKICAgICgxMDg1LCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV93cml0ZScpLAogICAgKDEwODYsICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX2Nsb3NlJyksCiAgICAoMTA4NywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfY3JlYXRlJyksCiAgICAoMTA4OCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfZ2V0X3RocmVhZHMnKSwKICAgICgxMDg5LCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9vcGVuJyksCiAgICAoMTA5MCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfcXVlcnlfcmVncycpLAogICAgKDEwOTEsICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX3Jlc3VtZScpLAogICAgKDEwOTIsICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX3NldF9yZWdzJyksCiAgICAoMTA5MywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfc3VzcGVuZCcpLAogICAgKDEwOTQsICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX3Rlcm1pbmF0ZScpLAogICAgKDEwOTUsICdzdGRhcGlfc3lzX3Byb2Nlc3Nfd2FpdCcpLAogICAgKDEwOTYsICdzdGRhcGlfdWlfZGVza3RvcF9lbnVtJyksCiAgICAoMTA5NywgJ3N0ZGFwaV91aV9kZXNrdG9wX2dldCcpLAogICAgKDEwOTgsICdzdGRhcGlfdWlfZGVza3RvcF9zY3JlZW5zaG90JyksCiAgICAoMTA5OSwgJ3N0ZGFwaV91aV9kZXNrdG9wX3NldCcpLAogICAgKDExMDAsICdzdGRhcGlfdWlfZW5hYmxlX2tleWJvYXJkJyksCiAgICAoMTEwMSwgJ3N0ZGFwaV91aV9lbmFibGVfbW91c2UnKSwKICAgICgxMTAyLCAnc3RkYXBpX3VpX2dldF9pZGxlX3RpbWUnKSwKICAgICgxMTAzLCAnc3RkYXBpX3VpX2dldF9rZXlzX3V0ZjgnKSwKICAgICgxMTA0LCAnc3RkYXBpX3VpX3NlbmRfa2V5ZXZlbnQnKSwKICAgICgxMTA1LCAnc3RkYXBpX3VpX3NlbmRfa2V5cycpLAogICAgKDExMDYsICdzdGRhcGlfdWlfc2VuZF9tb3VzZScpLAogICAgKDExMDcsICdzdGRhcGlfdWlfc3RhcnRfa2V5c2NhbicpLAogICAgKDExMDgsICdzdGRhcGlfdWlfc3RvcF9rZXlzY2FuJyksCiAgICAoMTEwOSwgJ3N0ZGFwaV91aV91bmxvY2tfZGVza3RvcCcpLAogICAgKDExMTAsICdzdGRhcGlfd2ViY2FtX2F1ZGlvX3JlY29yZCcpLAogICAgKDExMTEsICdzdGRhcGlfd2ViY2FtX2dldF9mcmFtZScpLAogICAgKDExMTIsICdzdGRhcGlfd2ViY2FtX2xpc3QnKSwKICAgICgxMTEzLCAnc3RkYXBpX3dlYmNhbV9zdGFydCcpLAogICAgKDExMTQsICdzdGRhcGlfd2ViY2FtX3N0b3AnKSwKICAgICgxMTE1LCAnc3RkYXBpX2F1ZGlvX21pY19zdGFydCcpLAogICAgKDExMTYsICdzdGRhcGlfYXVkaW9fbWljX3N0b3AnKSwKICAgICgxMTE3LCAnc3RkYXBpX2F1ZGlvX21pY19saXN0JyksCikKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNsYXNzIFNZU1RFTV9JTkZPKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgX2ZpZWxkc18gPSBbKCJ3UHJvY2Vzc29yQXJjaGl0ZWN0dXJlIiwgY3R5cGVzLmNfdWludDE2KSwKICAgICAgICAoIndSZXNlcnZlZCIsIGN0eXBlcy5jX3VpbnQxNiksCiAgICAgICAgKCJkd1BhZ2VTaXplIiwgY3R5cGVzLmNfdWludDMyKSwKICAgICAgICAoImxwTWluaW11bUFwcGxpY2F0aW9uQWRkcmVzcyIsIGN0eXBlcy5jX3ZvaWRfcCksCiAgICAgICAgKCJscE1heGltdW1BcHBsaWNhdGlvbkFkZHJlc3MiLCBjdHlwZXMuY192b2lkX3ApLAogICAgICAgICgiZHdBY3RpdmVQcm9jZXNzb3JNYXNrIiwgY3R5cGVzLmNfdWludDMyKSwKICAgICAgICAoImR3TnVtYmVyT2ZQcm9jZXNzb3JzIiwgY3R5cGVzLmNfdWludDMyKSwKICAgICAgICAoImR3UHJvY2Vzc29yVHlwZSIsIGN0eXBlcy5jX3VpbnQzMiksCiAgICAgICAgKCJkd0FsbG9jYXRpb25HcmFudWxhcml0eSIsIGN0eXBlcy5jX3VpbnQzMiksCiAgICAgICAgKCJ3UHJvY2Vzc29yTGV2ZWwiLCBjdHlwZXMuY191aW50MTYpLAogICAgICAgICgid1Byb2Nlc3NvclJldmlzaW9uIiwgY3R5cGVzLmNfdWludDE2KV0KCmRlZiByYW5kX2J5dGVzKG4pOgogICAgcmV0dXJuIG9zLnVyYW5kb20obikKCmRlZiByYW5kX3hvcl9rZXkoKToKICAgIHJldHVybiB0dXBsZShyYW5kb20ucmFuZGludCgxLCAyNTUpIGZvciBfIGluIHJhbmdlKDQpKQoKZGVmIHhvcl9ieXRlcyhrZXksIGRhdGEpOgogICAgaWYgc3lzLnZlcnNpb25faW5mb1swXSA8IDM6CiAgICAgICAgZGV4b3JlZCA9ICcnLmpvaW4oY2hyKG9yZChkYXRhW2ldKSBeIGtleVtpICUgbGVuKGtleSldKSBmb3IgaSBpbiByYW5nZShsZW4oZGF0YSkpKQogICAgZWxzZToKICAgICAgICBkZXhvcmVkID0gYnl0ZXMoZGF0YVtpXSBeIGtleVtpICUgbGVuKGtleSldIGZvciBpIGluIHJhbmdlKGxlbihkYXRhKSkpCiAgICByZXR1cm4gZGV4b3JlZAoKZGVmIGV4cG9ydChzeW1ib2wpOgogICAgRVhQT1JURURfU1lNQk9MU1tzeW1ib2wuX19uYW1lX19dID0gc3ltYm9sCiAgICByZXR1cm4gc3ltYm9sCgpkZWYgZ2VuZXJhdGVfcmVxdWVzdF9pZCgpOgogICAgY2hhcnMgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonCiAgICByZXR1cm4gJycuam9pbihyYW5kb20uY2hvaWNlKGNoYXJzKSBmb3IgeCBpbiByYW5nZSgzMikpCgpAZXhwb3J0CmRlZiBjbWRfaWRfdG9fc3RyaW5nKHRoaXNfaWQpOgogICAgZm9yIHRoYXRfaWQsIHRoYXRfc3RyaW5nIGluIENPTU1BTkRfSURTOgogICAgICAgIGlmIHRoaXNfaWQgPT0gdGhhdF9pZDoKICAgICAgICAgICAgcmV0dXJuIHRoYXRfc3RyaW5nCiAgICBkZWJ1Z19wcmludCgnWypdIGZhaWxlZCB0byBsb29rdXAgc3RyaW5nIGZvciBjb21tYW5kIGlkOiAnICsgc3RyKHRoaXNfaWQpKQogICAgcmV0dXJuIE5vbmUKCkBleHBvcnQKZGVmIGNtZF9zdHJpbmdfdG9faWQodGhpc19zdHJpbmcpOgogICAgZm9yIHRoYXRfaWQsIHRoYXRfc3RyaW5nIGluIENPTU1BTkRfSURTOgogICAgICAgIGlmIHRoaXNfc3RyaW5nID09IHRoYXRfc3RyaW5nOgogICAgICAgICAgICByZXR1cm4gdGhhdF9pZAogICAgZGVidWdfcHJpbnQoJ1sqXSBmYWlsZWQgdG8gbG9va3VwIGlkIGZvciBjb21tYW5kIHN0cmluZzogJyArIHRoaXNfc3RyaW5nKQogICAgcmV0dXJuIE5vbmUKCkBleHBvcnQKZGVmIGNyYzE2KGRhdGEpOgogICAgcG9seSA9IDB4MTAyMQogICAgcmVnID0gMHgwMDAwCiAgICBpZiBpc19zdHIoZGF0YSk6CiAgICAgICAgZGF0YSA9IGxpc3QobWFwKG9yZCwgZGF0YSkpCiAgICBlbGlmIGlzX2J5dGVzKGRhdGEpOgogICAgICAgIGRhdGEgPSBsaXN0KGRhdGEpCiAgICBkYXRhLmFwcGVuZCgwKQogICAgZGF0YS5hcHBlbmQoMCkKICAgIGZvciBieXRlIGluIGRhdGE6CiAgICAgICAgbWFzayA9IDB4ODAKICAgICAgICB3aGlsZSBtYXNrID4gMDoKICAgICAgICAgICAgcmVnIDw8PSAxCiAgICAgICAgICAgIGlmIGJ5dGUgJiBtYXNrOgogICAgICAgICAgICAgICAgcmVnICs9IDEKICAgICAgICAgICAgbWFzayA+Pj0gMQogICAgICAgICAgICBpZiByZWcgPiAweGZmZmY6CiAgICAgICAgICAgICAgICByZWcgJj0gMHhmZmZmCiAgICAgICAgICAgICAgICByZWcgXj0gcG9seQogICAgcmV0dXJuIHJlZwoKQGV4cG9ydApkZWYgZGVidWdfcHJpbnQobXNnKToKICAgIGlmIERFQlVHR0lORzoKICAgICAgICBwcmludChtc2cpCgpAZXhwb3J0CmRlZiBkZWJ1Z190cmFjZWJhY2sobXNnPU5vbmUpOgogICAgaWYgREVCVUdHSU5HOgogICAgICAgIGlmIG1zZzoKICAgICAgICAgICAgcHJpbnQobXNnKQogICAgICAgIHRyYWNlYmFjay5wcmludF9leGMoZmlsZT1zeXMuc3RkZXJyKQoKQGV4cG9ydApkZWYgZXJyb3JfcmVzdWx0KGV4Y2VwdGlvbj1Ob25lKToKICAgIGlmIG5vdCBleGNlcHRpb246CiAgICAgICAgXywgZXhjZXB0aW9uLCBfID0gc3lzLmV4Y19pbmZvKCkKICAgIGV4Y2VwdGlvbl9jcmMgPSBjcmMxNihleGNlcHRpb24uX19jbGFzc19fLl9fbmFtZV9fKQogICAgaWYgZXhjZXB0aW9uX2NyYyA9PSAweDRjYjI6ICMgV2luZG93c0Vycm9yCiAgICAgICAgcmV0dXJuIGVycm9yX3Jlc3VsdF93aW5kb3dzKGV4Y2VwdGlvbi5lcnJubykKICAgIGVsc2U6CiAgICAgICAgcmVzdWx0ID0gKChleGNlcHRpb25fY3JjIDw8IDE2KSB8IEVSUk9SX0ZBSUxVUkVfUFlUSE9OKQogICAgcmV0dXJuIHJlc3VsdAoKQGV4cG9ydApkZWYgZXJyb3JfcmVzdWx0X3dpbmRvd3MoZXJyb3JfbnVtYmVyPU5vbmUpOgogICAgaWYgbm90IGhhc193aW5kbGw6CiAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUKICAgIGlmIGVycm9yX251bWJlciA9PSBOb25lOgogICAgICAgIGVycm9yX251bWJlciA9IGN0eXBlcy53aW5kbGwua2VybmVsMzIuR2V0TGFzdEVycm9yKCkKICAgIGlmIGVycm9yX251bWJlciA+IDB4ZmZmZjoKICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRQogICAgcmVzdWx0ID0gKChlcnJvcl9udW1iZXIgPDwgMTYpIHwgRVJST1JfRkFJTFVSRV9XSU5ET1dTKQogICAgcmV0dXJuIHJlc3VsdAoKQGV4cG9ydApkZWYgZ2V0X2hkZF9sYWJlbCgpOgogICAgZm9yIF8sIF8sIGZpbGVzIGluIG9zLndhbGsoJy9kZXYvZGlzay9ieS1pZC8nKToKICAgICAgICBmb3IgZiBpbiBmaWxlczoKICAgICAgICAgICAgZm9yIHAgaW4gWydhdGEtJywgJ21iLSddOgogICAgICAgICAgICAgICAgaWYgZls6bGVuKHApXSA9PSBwOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBmW2xlbihwKTpdCiAgICByZXR1cm4gJycKCkBleHBvcnQKZGVmIGdldF9uYXRpdmVfYXJjaCgpOgogICAgYXJjaCA9IGdldF9zeXN0ZW1fYXJjaCgpCiAgICBpZiBhcmNoID09ICd4NjQnIGFuZCBjdHlwZXMuc2l6ZW9mKGN0eXBlcy5jX3ZvaWRfcCkgPT0gNDoKICAgICAgICBhcmNoID0gJ3g4NicKICAgIHJldHVybiBhcmNoCgpAZXhwb3J0CmRlZiBnZXRfc3lzdGVtX2FyY2goKToKICAgIHVuYW1lX2luZm8gPSBwbGF0Zm9ybS51bmFtZSgpCiAgICBhcmNoID0gdW5hbWVfaW5mb1s0XQogICAgaWYgaGFzX3dpbmRsbDoKICAgICAgICBzeXNpbmZvID0gU1lTVEVNX0lORk8oKQogICAgICAgIGN0eXBlcy53aW5kbGwua2VybmVsMzIuR2V0TmF0aXZlU3lzdGVtSW5mbyhjdHlwZXMuYnlyZWYoc3lzaW5mbykpCiAgICAgICAgdmFsdWVzID0gezA6J3g4NicsIDU6J2FybWxlJywgNjonSUE2NCcsIDk6J3g2NCd9CiAgICAgICAgYXJjaCA9IHZhbHVlcy5nZXQoc3lzaW5mby53UHJvY2Vzc29yQXJjaGl0ZWN0dXJlLCB1bmFtZV9pbmZvWzRdKQogICAgaWYgYXJjaCA9PSAneDg2XzY0JzoKICAgICAgICBhcmNoID0gJ3g2NCcKICAgIHJldHVybiBhcmNoCgpAZXhwb3J0CmRlZiBpbmV0X3B0b24oZmFtaWx5LCBhZGRyZXNzKToKICAgIGlmIGZhbWlseSA9PSBzb2NrZXQuQUZfSU5FVDYgYW5kICclJyBpbiBhZGRyZXNzOgogICAgICAgIGFkZHJlc3MgPSBhZGRyZXNzLnNwbGl0KCclJywgMSlbMF0KICAgIGlmIGhhc2F0dHIoc29ja2V0LCAnaW5ldF9wdG9uJyk6CiAgICAgICAgcmV0dXJuIHNvY2tldC5pbmV0X3B0b24oZmFtaWx5LCBhZGRyZXNzKQogICAgZWxpZiBoYXNfd2luZGxsOgogICAgICAgIFdTQVN0cmluZ1RvQWRkcmVzcyA9IGN0eXBlcy53aW5kbGwud3MyXzMyLldTQVN0cmluZ1RvQWRkcmVzc0EKICAgICAgICBscEFkZHJlc3MgPSAoY3R5cGVzLmNfdWJ5dGUgKiAyOCkoKQogICAgICAgIGxwQWRkcmVzc0xlbmd0aCA9IGN0eXBlcy5jX2ludChjdHlwZXMuc2l6ZW9mKGxwQWRkcmVzcykpCiAgICAgICAgaWYgV1NBU3RyaW5nVG9BZGRyZXNzKGFkZHJlc3MsIGZhbWlseSwgTm9uZSwgY3R5cGVzLmJ5cmVmKGxwQWRkcmVzcyksIGN0eXBlcy5ieXJlZihscEFkZHJlc3NMZW5ndGgpKSAhPSAwOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oJ1dTQVN0cmluZ1RvQWRkcmVzcyBmYWlsZWQnKQogICAgICAgIGlmIGZhbWlseSA9PSBzb2NrZXQuQUZfSU5FVDoKICAgICAgICAgICAgcmV0dXJuICcnLmpvaW4obWFwKGNociwgbHBBZGRyZXNzWzQ6OF0pKQogICAgICAgIGVsaWYgZmFtaWx5ID09IHNvY2tldC5BRl9JTkVUNjoKICAgICAgICAgICAgcmV0dXJuICcnLmpvaW4obWFwKGNociwgbHBBZGRyZXNzWzg6MjRdKSkKICAgIHJhaXNlIEV4Y2VwdGlvbignbm8gc3VpdGFibGUgaW5ldF9wdG9uIGZ1bmN0aW9uYWxpdHkgaXMgYXZhaWxhYmxlJykKCkBleHBvcnQKZGVmIHBhY2tldF9lbnVtX3RsdnMocGt0LCB0bHZfdHlwZT1Ob25lKToKICAgIG9mZnNldCA9IDAKICAgIHdoaWxlIG9mZnNldCA8IGxlbihwa3QpOgogICAgICAgIHRsdiA9IHN0cnVjdC51bnBhY2soJz5JSScsIHBrdFtvZmZzZXQ6b2Zmc2V0ICsgOF0pCiAgICAgICAgaWYgdGx2X3R5cGUgaXMgTm9uZSBvciAodGx2WzFdICYgflRMVl9NRVRBX1RZUEVfQ09NUFJFU1NFRCkgPT0gdGx2X3R5cGU6CiAgICAgICAgICAgIHZhbCA9IHBrdFtvZmZzZXQgKyA4OihvZmZzZXQgKyA4ICsgKHRsdlswXSAtIDgpKV0KICAgICAgICAgICAgaWYgKHRsdlsxXSAmIFRMVl9NRVRBX1RZUEVfU1RSSU5HKSA9PSBUTFZfTUVUQV9UWVBFX1NUUklORzoKICAgICAgICAgICAgICAgIHZhbCA9IHN0cih2YWwuc3BsaXQoTlVMTF9CWVRFLCAxKVswXSkKICAgICAgICAgICAgZWxpZiAodGx2WzFdICYgVExWX01FVEFfVFlQRV9VSU5UKSA9PSBUTFZfTUVUQV9UWVBFX1VJTlQ6CiAgICAgICAgICAgICAgICB2YWwgPSBzdHJ1Y3QudW5wYWNrKCc+SScsIHZhbClbMF0KICAgICAgICAgICAgZWxpZiAodGx2WzFdICYgVExWX01FVEFfVFlQRV9RV09SRCkgPT0gVExWX01FVEFfVFlQRV9RV09SRDoKICAgICAgICAgICAgICAgIHZhbCA9IHN0cnVjdC51bnBhY2soJz5RJywgdmFsKVswXQogICAgICAgICAgICBlbGlmICh0bHZbMV0gJiBUTFZfTUVUQV9UWVBFX0JPT0wpID09IFRMVl9NRVRBX1RZUEVfQk9PTDoKICAgICAgICAgICAgICAgIHZhbCA9IGJvb2woc3RydWN0LnVucGFjaygnYicsIHZhbClbMF0pCiAgICAgICAgICAgIGVsaWYgKHRsdlsxXSAmIFRMVl9NRVRBX1RZUEVfUkFXKSA9PSBUTFZfTUVUQV9UWVBFX1JBVzoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgeWllbGQgeyd0eXBlJzogdGx2WzFdLCAnbGVuZ3RoJzogdGx2WzBdLCAndmFsdWUnOiB2YWx9CiAgICAgICAgb2Zmc2V0ICs9IHRsdlswXQogICAgcmV0dXJuCgpAZXhwb3J0CmRlZiBwYWNrZXRfZ2V0X3Rsdihwa3QsIHRsdl90eXBlKToKICAgIHRyeToKICAgICAgICB0bHYgPSBsaXN0KHBhY2tldF9lbnVtX3RsdnMocGt0LCB0bHZfdHlwZSkpWzBdCiAgICBleGNlcHQgSW5kZXhFcnJvcjoKICAgICAgICByZXR1cm4ge30KICAgIHJldHVybiB0bHYKCkBleHBvcnQKZGVmIHRsdl9wYWNrKCphcmdzKToKICAgIGlmIGxlbihhcmdzKSA9PSAyOgogICAgICAgIHRsdiA9IHsndHlwZSc6YXJnc1swXSwgJ3ZhbHVlJzphcmdzWzFdfQogICAgZWxzZToKICAgICAgICB0bHYgPSBhcmdzWzBdCiAgICBkYXRhID0gJycKICAgIHZhbHVlID0gdGx2Wyd2YWx1ZSddCiAgICBpZiAodGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX1VJTlQpID09IFRMVl9NRVRBX1RZUEVfVUlOVDoKICAgICAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBmbG9hdCk6CiAgICAgICAgICAgIHZhbHVlID0gaW50KHJvdW5kKHZhbHVlKSkKICAgICAgICBkYXRhID0gc3RydWN0LnBhY2soJz5JSUknLCAxMiwgdGx2Wyd0eXBlJ10sIHZhbHVlKQogICAgZWxpZiAodGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX1FXT1JEKSA9PSBUTFZfTUVUQV9UWVBFX1FXT1JEOgogICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJUScsIDE2LCB0bHZbJ3R5cGUnXSwgdmFsdWUpCiAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfQk9PTCkgPT0gVExWX01FVEFfVFlQRV9CT09MOgogICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJJywgOSwgdGx2Wyd0eXBlJ10pICsgYnl0ZXMoY2hyKGludChib29sKHZhbHVlKSkpLCAnVVRGLTgnKQogICAgZWxzZToKICAgICAgICBpZiBzeXMudmVyc2lvbl9pbmZvWzBdIDwgMyBhbmQgdmFsdWUuX19jbGFzc19fLl9fbmFtZV9fID09ICd1bmljb2RlJzoKICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5lbmNvZGUoJ1VURi04JykKICAgICAgICBlbGlmIG5vdCBpc19ieXRlcyh2YWx1ZSk6CiAgICAgICAgICAgIHZhbHVlID0gYnl0ZXModmFsdWUsICdVVEYtOCcpCiAgICAgICAgaWYgKHRsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9TVFJJTkcpID09IFRMVl9NRVRBX1RZUEVfU1RSSU5HOgogICAgICAgICAgICBkYXRhID0gc3RydWN0LnBhY2soJz5JSScsIDggKyBsZW4odmFsdWUpICsgMSwgdGx2Wyd0eXBlJ10pICsgdmFsdWUgKyBOVUxMX0JZVEUKICAgICAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfUkFXKSA9PSBUTFZfTUVUQV9UWVBFX1JBVzoKICAgICAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUknLCA4ICsgbGVuKHZhbHVlKSwgdGx2Wyd0eXBlJ10pICsgdmFsdWUKICAgICAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfR1JPVVApID09IFRMVl9NRVRBX1RZUEVfR1JPVVA6CiAgICAgICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJJywgOCArIGxlbih2YWx1ZSksIHRsdlsndHlwZSddKSArIHZhbHVlCiAgICAgICAgZWxpZiAodGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX0NPTVBMRVgpID09IFRMVl9NRVRBX1RZUEVfQ09NUExFWDoKICAgICAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUknLCA4ICsgbGVuKHZhbHVlKSwgdGx2Wyd0eXBlJ10pICsgdmFsdWUKICAgIHJldHVybiBkYXRhCgpAZXhwb3J0CmRlZiB0bHZfcGFja19yZXF1ZXN0KG1ldGhvZCwgcGFydHM9Tm9uZSk6CiAgICBwa3QgID0gc3RydWN0LnBhY2soJz5JJywgUEFDS0VUX1RZUEVfUkVRVUVTVCkKICAgIHBrdCArPSB0bHZfcGFjayhUTFZfVFlQRV9DT01NQU5EX0lELCBjbWRfc3RyaW5nX3RvX2lkKG1ldGhvZCkpCiAgICBwa3QgKz0gdGx2X3BhY2soVExWX1RZUEVfVVVJRCwgYmluYXNjaWkuYTJiX2hleChieXRlcyhQQVlMT0FEX1VVSUQsICdVVEYtOCcpKSkKICAgIHBrdCArPSB0bHZfcGFjayhUTFZfVFlQRV9SRVFVRVNUX0lELCBnZW5lcmF0ZV9yZXF1ZXN0X2lkKCkpCiAgICBwYXJ0cyA9IHBhcnRzIG9yIFtdCiAgICBmb3IgcGFydCBpbiBwYXJ0czoKICAgICAgICBwa3QgKz0gdGx2X3BhY2socGFydFsndHlwZSddLCBwYXJ0Wyd2YWx1ZSddKQogICAgcmV0dXJuIHBrdAoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJDaGFubmVsKG9iamVjdCk6CiAgICBkZWYgY29yZV9jbG9zZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgc2VsZi5jbG9zZSgpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfZW9mKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9CT09MLCBzZWxmLmVvZigpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBjb3JlX3JlYWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGxlbmd0aCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0xFTkdUSClbJ3ZhbHVlJ10KICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9DSEFOTkVMX0RBVEEsIHNlbGYucmVhZChsZW5ndGgpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBjb3JlX3dyaXRlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2RhdGEgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0RBVEEpWyd2YWx1ZSddCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfTEVOR1RILCBzZWxmLndyaXRlKGNoYW5uZWxfZGF0YSkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKICAgIGRlZiBlb2Yoc2VsZik6CiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIGlzX2FsaXZlKHNlbGYpOgogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIG5vdGlmeShzZWxmKToKICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiByZWFkKHNlbGYsIGxlbmd0aCk6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigpCgogICAgZGVmIHdyaXRlKHNlbGYsIGRhdGEpOgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJGaWxlKE1ldGVycHJldGVyQ2hhbm5lbCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZmlsZV9vYmopOgogICAgICAgIHNlbGYuZmlsZV9vYmogPSBmaWxlX29iagogICAgICAgIHN1cGVyKE1ldGVycHJldGVyRmlsZSwgc2VsZikuX19pbml0X18oKQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICBzZWxmLmZpbGVfb2JqLmNsb3NlKCkKCiAgICBkZWYgZW9mKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmZpbGVfb2JqLnRlbGwoKSA+PSBvcy5mc3RhdChzZWxmLmZpbGVfb2JqLmZpbGVubygpKS5zdF9zaXplCgogICAgZGVmIHJlYWQoc2VsZiwgbGVuZ3RoKToKICAgICAgICByZXR1cm4gc2VsZi5maWxlX29iai5yZWFkKGxlbmd0aCkKCiAgICBkZWYgd3JpdGUoc2VsZiwgZGF0YSk6CiAgICAgICAgc2VsZi5maWxlX29iai53cml0ZShkYXRhKQogICAgICAgIHJldHVybiBsZW4oZGF0YSkKZXhwb3J0KE1ldGVycHJldGVyRmlsZSkKCiNAZXhwb3J0CmNsYXNzIE1ldGVycHJldGVyUHJvY2VzcyhNZXRlcnByZXRlckNoYW5uZWwpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHByb2NfaCk6CiAgICAgICAgc2VsZi5wcm9jX2ggPSBwcm9jX2gKICAgICAgICBzdXBlcihNZXRlcnByZXRlclByb2Nlc3MsIHNlbGYpLl9faW5pdF9fKCkKCiAgICBkZWYgY2xvc2Uoc2VsZik6CiAgICAgICAgc2VsZi5wcm9jX2gua2lsbCgpCiAgICAgICAgaWYgaGFzYXR0cihzZWxmLnByb2NfaC5zdGRpbiwgJ2Nsb3NlJyk6CiAgICAgICAgICAgIHNlbGYucHJvY19oLnN0ZGluLmNsb3NlKCkKICAgICAgICBpZiBoYXNhdHRyKHNlbGYucHJvY19oLnN0ZG91dCwgJ2Nsb3NlJyk6CiAgICAgICAgICAgIHNlbGYucHJvY19oLnN0ZG91dC5jbG9zZSgpCiAgICAgICAgaWYgaGFzYXR0cihzZWxmLnByb2NfaC5zdGRlcnIsICdjbG9zZScpOgogICAgICAgICAgICBzZWxmLnByb2NfaC5zdGRlcnIuY2xvc2UoKQoKICAgIGRlZiBpc19hbGl2ZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5wcm9jX2gucG9sbCgpIGlzIE5vbmUKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIGRhdGEgPSAnJwogICAgICAgIHN0ZG91dF9yZWFkZXIgPSBzZWxmLnByb2NfaC5zdGRvdXRfcmVhZGVyCiAgICAgICAgaWYgc3Rkb3V0X3JlYWRlci5pc19yZWFkX3JlYWR5KCk6CiAgICAgICAgICAgIGRhdGEgPSBzdGRvdXRfcmVhZGVyLnJlYWQobGVuZ3RoKQogICAgICAgIHJldHVybiBkYXRhCgogICAgZGVmIHdyaXRlKHNlbGYsIGRhdGEpOgogICAgICAgIHNlbGYucHJvY19oLndyaXRlKGRhdGEpCiAgICAgICAgcmV0dXJuIGxlbihkYXRhKQpleHBvcnQoTWV0ZXJwcmV0ZXJQcm9jZXNzKQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJTb2NrZXQoTWV0ZXJwcmV0ZXJDaGFubmVsKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzb2NrKToKICAgICAgICBzZWxmLnNvY2sgPSBzb2NrCiAgICAgICAgc2VsZi5faXNfYWxpdmUgPSBUcnVlCiAgICAgICAgc3VwZXIoTWV0ZXJwcmV0ZXJTb2NrZXQsIHNlbGYpLl9faW5pdF9fKCkKCiAgICBkZWYgY29yZV93cml0ZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gc3VwZXIoTWV0ZXJwcmV0ZXJTb2NrZXQsIHNlbGYpLmNvcmVfd3JpdGUocmVxdWVzdCwgcmVzcG9uc2UpCiAgICAgICAgZXhjZXB0IHNvY2tldC5lcnJvcjoKICAgICAgICAgICAgc2VsZi5jbG9zZSgpCiAgICAgICAgICAgIHNlbGYuX2lzX2FsaXZlID0gRmFsc2UKICAgICAgICAgICAgc3RhdHVzID0gRVJST1JfRkFJTFVSRQogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnNvY2suY2xvc2UoKQoKICAgIGRlZiBmaWxlbm8oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuc29jay5maWxlbm8oKQoKICAgIGRlZiBpc19hbGl2ZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5faXNfYWxpdmUKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIHJldHVybiBzZWxmLnNvY2sucmVjdihsZW5ndGgpCgogICAgZGVmIHdyaXRlKHNlbGYsIGRhdGEpOgogICAgICAgIHJldHVybiBzZWxmLnNvY2suc2VuZChkYXRhKQpleHBvcnQoTWV0ZXJwcmV0ZXJTb2NrZXQpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlclNvY2tldFRDUENsaWVudChNZXRlcnByZXRlclNvY2tldCk6CiAgICBwYXNzCmV4cG9ydChNZXRlcnByZXRlclNvY2tldFRDUENsaWVudCkKCiNAZXhwb3J0CmNsYXNzIE1ldGVycHJldGVyU29ja2V0VENQU2VydmVyKE1ldGVycHJldGVyU29ja2V0KToKICAgIHBhc3MKZXhwb3J0KE1ldGVycHJldGVyU29ja2V0VENQU2VydmVyKQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJTb2NrZXRVRFBDbGllbnQoTWV0ZXJwcmV0ZXJTb2NrZXQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHNvY2ssIHBlZXJfYWRkcmVzcz1Ob25lKToKICAgICAgICBzdXBlcihNZXRlcnByZXRlclNvY2tldFVEUENsaWVudCwgc2VsZikuX19pbml0X18oc29jaykKICAgICAgICBzZWxmLnBlZXJfYWRkcmVzcyA9IHBlZXJfYWRkcmVzcwoKICAgIGRlZiBjb3JlX3dyaXRlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBwZWVyX2hvc3QgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9QRUVSX0hPU1QpLmdldCgndmFsdWUnKQogICAgICAgIHBlZXJfcG9ydCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1BFRVJfUE9SVCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgaWYgcGVlcl9ob3N0IGFuZCBwZWVyX3BvcnQ6CiAgICAgICAgICAgIHBlZXJfYWRkcmVzcyA9IChwZWVyX2hvc3QsIHBlZXJfcG9ydCkKICAgICAgICBlbGlmIHNlbGYucGVlcl9hZGRyZXNzOgogICAgICAgICAgICBwZWVyX2FkZHJlc3MgPSBzZWxmLnBlZXJfYWRkcmVzcwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigncGVlcl9ob3N0IGFuZCBwZWVyX3BvcnQgbXVzdCBiZSBzcGVjaWZpZWQgd2l0aCBhbiB1bmJvdW5kL3VuY29ubmVjdGVkIFVEUCBjaGFubmVsJykKICAgICAgICBjaGFubmVsX2RhdGEgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0RBVEEpWyd2YWx1ZSddCiAgICAgICAgdHJ5OgogICAgICAgICAgICBsZW5ndGggPSBzZWxmLnNvY2suc2VuZHRvKGNoYW5uZWxfZGF0YSwgcGVlcl9hZGRyZXNzKQogICAgICAgIGV4Y2VwdCBzb2NrZXQuZXJyb3I6CiAgICAgICAgICAgIHNlbGYuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9pc19hbGl2ZSA9IEZhbHNlCiAgICAgICAgICAgIHN0YXR1cyA9IEVSUk9SX0ZBSUxVUkUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9MRU5HVEgsIGxlbmd0aCkKICAgICAgICAgICAgc3RhdHVzID0gRVJST1JfU1VDQ0VTUwogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIHJlYWQoc2VsZiwgbGVuZ3RoKToKICAgICAgICByZXR1cm4gc2VsZi5zb2NrLnJlY3Zmcm9tKGxlbmd0aClbMF0KCiAgICBkZWYgd3JpdGUoc2VsZiwgZGF0YSk6CiAgICAgICAgc2VsZi5zb2NrLnNlbmR0byhkYXRhLCBzZWxmLnBlZXJfYWRkcmVzcykKZXhwb3J0KE1ldGVycHJldGVyU29ja2V0VURQQ2xpZW50KQoKY2xhc3MgU1REUHJvY2Vzc0J1ZmZlcih0aHJlYWRpbmcuVGhyZWFkKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdGQsIGlzX2FsaXZlKToKICAgICAgICB0aHJlYWRpbmcuVGhyZWFkLl9faW5pdF9fKHNlbGYpCiAgICAgICAgc2VsZi5zdGQgPSBzdGQKICAgICAgICBzZWxmLmlzX2FsaXZlID0gaXNfYWxpdmUKICAgICAgICBzZWxmLmRhdGEgPSBieXRlcygpCiAgICAgICAgc2VsZi5kYXRhX2xvY2sgPSB0aHJlYWRpbmcuUkxvY2soKQoKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgZm9yIGJ5dGUgaW4gaXRlcihsYW1iZGE6IHNlbGYuc3RkLnJlYWQoMSksIGJ5dGVzKCkpOgogICAgICAgICAgICBzZWxmLmRhdGFfbG9jay5hY3F1aXJlKCkKICAgICAgICAgICAgc2VsZi5kYXRhICs9IGJ5dGUKICAgICAgICAgICAgc2VsZi5kYXRhX2xvY2sucmVsZWFzZSgpCgogICAgZGVmIGlzX3JlYWRfcmVhZHkoc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmRhdGEpICE9IDAKCiAgICBkZWYgcGVlayhzZWxmLCBsID0gTm9uZSk6CiAgICAgICAgZGF0YSA9IGJ5dGVzKCkKICAgICAgICBzZWxmLmRhdGFfbG9jay5hY3F1aXJlKCkKICAgICAgICBpZiBsID09IE5vbmU6CiAgICAgICAgICAgIGRhdGEgPSBzZWxmLmRhdGEKICAgICAgICBlbHNlOgogICAgICAgICAgICBkYXRhID0gc2VsZi5kYXRhWzA6bF0KICAgICAgICBzZWxmLmRhdGFfbG9jay5yZWxlYXNlKCkKICAgICAgICByZXR1cm4gZGF0YQoKICAgIGRlZiByZWFkKHNlbGYsIGwgPSBOb25lKToKICAgICAgICBzZWxmLmRhdGFfbG9jay5hY3F1aXJlKCkKICAgICAgICBkYXRhID0gc2VsZi5wZWVrKGwpCiAgICAgICAgc2VsZi5kYXRhID0gc2VsZi5kYXRhW2xlbihkYXRhKTpdCiAgICAgICAgc2VsZi5kYXRhX2xvY2sucmVsZWFzZSgpCiAgICAgICAgcmV0dXJuIGRhdGEKCiNAZXhwb3J0CmNsYXNzIFNURFByb2Nlc3Moc3VicHJvY2Vzcy5Qb3Blbik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBkZWJ1Z19wcmludCgnWypdIHN0YXJ0aW5nIHByb2Nlc3M6ICcgKyByZXByKGFyZ3NbMF0pKQogICAgICAgIHN1YnByb2Nlc3MuUG9wZW4uX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKQogICAgICAgIHNlbGYuZWNob19wcm90ZWN0aW9uID0gRmFsc2UKCiAgICBkZWYgaXNfYWxpdmUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYucG9sbCgpIGlzIE5vbmUKCiAgICBkZWYgc3RhcnQoc2VsZik6CiAgICAgICAgc2VsZi5zdGRvdXRfcmVhZGVyID0gU1REUHJvY2Vzc0J1ZmZlcihzZWxmLnN0ZG91dCwgc2VsZi5pc19hbGl2ZSkKICAgICAgICBzZWxmLnN0ZG91dF9yZWFkZXIuc3RhcnQoKQogICAgICAgIHNlbGYuc3RkZXJyX3JlYWRlciA9IFNURFByb2Nlc3NCdWZmZXIoc2VsZi5zdGRlcnIsIHNlbGYuaXNfYWxpdmUpCiAgICAgICAgc2VsZi5zdGRlcnJfcmVhZGVyLnN0YXJ0KCkKCiAgICBkZWYgd3JpdGUoc2VsZiwgY2hhbm5lbF9kYXRhKToKICAgICAgICBsZW5ndGggPSBzZWxmLnN0ZGluLndyaXRlKGNoYW5uZWxfZGF0YSkKICAgICAgICBzZWxmLnN0ZGluLmZsdXNoKCkKICAgICAgICBpZiBzZWxmLmVjaG9fcHJvdGVjdGlvbjoKICAgICAgICAgICAgZW5kX3RpbWUgPSB0aW1lLnRpbWUoKSArIDAuNQogICAgICAgICAgICBvdXRfZGF0YSA9IGJ5dGVzKCkKICAgICAgICAgICAgd2hpbGUgKHRpbWUudGltZSgpIDwgZW5kX3RpbWUpIGFuZCAob3V0X2RhdGEgIT0gY2hhbm5lbF9kYXRhKToKICAgICAgICAgICAgICAgIGlmIHNlbGYuc3Rkb3V0X3JlYWRlci5pc19yZWFkX3JlYWR5KCk6CiAgICAgICAgICAgICAgICAgICAgb3V0X2RhdGEgPSBzZWxmLnN0ZG91dF9yZWFkZXIucGVlayhsZW4oY2hhbm5lbF9kYXRhKSkKICAgICAgICAgICAgaWYgb3V0X2RhdGEgPT0gY2hhbm5lbF9kYXRhOgogICAgICAgICAgICAgICAgc2VsZi5zdGRvdXRfcmVhZGVyLnJlYWQobGVuKGNoYW5uZWxfZGF0YSkpCiAgICAgICAgcmV0dXJuIGxlbmd0aApleHBvcnQoU1REUHJvY2VzcykKCmNsYXNzIFRyYW5zcG9ydChvYmplY3QpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0ID0gU0VTU0lPTl9DT01NVU5JQ0FUSU9OX1RJTUVPVVQKICAgICAgICBzZWxmLmNvbW11bmljYXRpb25fbGFzdCA9IDAKICAgICAgICBzZWxmLnJldHJ5X3RvdGFsID0gU0VTU0lPTl9SRVRSWV9UT1RBTAogICAgICAgIHNlbGYucmV0cnlfd2FpdCA9IFNFU1NJT05fUkVUUllfV0FJVAogICAgICAgIHNlbGYucmVxdWVzdF9yZXRpcmUgPSBGYWxzZQogICAgICAgIHNlbGYuYWVzX2VuYWJsZWQgPSBGYWxzZQogICAgICAgIHNlbGYuYWVzX2tleSA9IE5vbmUKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICI8ezB9IHVybD0nezF9JyA+Ii5mb3JtYXQoc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIHNlbGYudXJsKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGNvbW11bmljYXRpb25faGFzX2V4cGlyZWQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuY29tbXVuaWNhdGlvbl9sYXN0ICsgc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQgPCB0aW1lLnRpbWUoKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNob3VsZF9yZXRpcmUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuY29tbXVuaWNhdGlvbl9oYXNfZXhwaXJlZCBvciBzZWxmLnJlcXVlc3RfcmV0aXJlCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGZyb21fcmVxdWVzdChyZXF1ZXN0KToKICAgICAgICB1cmwgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19VUkwpWyd2YWx1ZSddCiAgICAgICAgaWYgdXJsLnN0YXJ0c3dpdGgoJ3RjcCcpOgogICAgICAgICAgICB0cmFuc3BvcnQgPSBUY3BUcmFuc3BvcnQodXJsKQogICAgICAgIGVsaWYgdXJsLnN0YXJ0c3dpdGgoJ2h0dHAnKToKICAgICAgICAgICAgcHJveHkgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19QUk9YWV9IT1NUKS5nZXQoJ3ZhbHVlJykKICAgICAgICAgICAgdXNlcl9hZ2VudCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1VBKS5nZXQoJ3ZhbHVlJywgSFRUUF9VU0VSX0FHRU5UKQogICAgICAgICAgICBodHRwX2hlYWRlcnMgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19IRUFERVJTKS5nZXQoJ3ZhbHVlJywgTm9uZSkKICAgICAgICAgICAgdHJhbnNwb3J0ID0gSHR0cFRyYW5zcG9ydCh1cmwsIHByb3h5PXByb3h5LCB1c2VyX2FnZW50PXVzZXJfYWdlbnQpCiAgICAgICAgICAgIGlmIGh0dHBfaGVhZGVyczoKICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7fQogICAgICAgICAgICAgICAgZm9yIGggaW4gaHR0cF9oZWFkZXJzLnN0cmlwKCkuc3BsaXQoIlxyXG4iKToKICAgICAgICAgICAgICAgICAgICBwID0gaC5zcGxpdCgnOicpCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1twWzBdLnVwcGVyKCldID0gJycuam9pbihwWzE6MF0pCiAgICAgICAgICAgICAgICBodHRwX2hvc3QgPSBoZWFkZXJzLmdldCgnSE9TVCcpCiAgICAgICAgICAgICAgICBodHRwX2Nvb2tpZSA9IGhlYWRlcnMuZ2V0KCdDT09LSUUnKQogICAgICAgICAgICAgICAgaHR0cF9yZWZlcmVyID0gaGVhZGVycy5nZXQoJ1JFRkVSRVInKQogICAgICAgICAgICAgICAgdHJhbnNwb3J0ID0gSHR0cFRyYW5zcG9ydCh1cmwsIHByb3h5PXByb3h5LCB1c2VyX2FnZW50PXVzZXJfYWdlbnQsIGh0dHBfaG9zdD1odHRwX2hvc3QsCiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBfY29va2llPWh0dHBfY29va2llLCBodHRwX3JlZmVyZXI9aHR0cF9yZWZlcmVyKQogICAgICAgIHRyYW5zcG9ydC5jb21tdW5pY2F0aW9uX3RpbWVvdXQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19DT01NX1RJTUVPVVQpLmdldCgndmFsdWUnLCBTRVNTSU9OX0NPTU1VTklDQVRJT05fVElNRU9VVCkKICAgICAgICB0cmFuc3BvcnQucmV0cnlfdG90YWwgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19SRVRSWV9UT1RBTCkuZ2V0KCd2YWx1ZScsIFNFU1NJT05fUkVUUllfVE9UQUwpCiAgICAgICAgdHJhbnNwb3J0LnJldHJ5X3dhaXQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19SRVRSWV9XQUlUKS5nZXQoJ3ZhbHVlJywgU0VTU0lPTl9SRVRSWV9XQUlUKQogICAgICAgIHJldHVybiB0cmFuc3BvcnQKCiAgICBkZWYgX2FjdGl2YXRlKHNlbGYpOgogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIGFjdGl2YXRlKHNlbGYpOgogICAgICAgIHNlbGYuYWVzX2tleSA9IE5vbmUKICAgICAgICBzZWxmLmFlc19lbmFibGVkID0gRmFsc2UKICAgICAgICBlbmRfdGltZSA9IHRpbWUudGltZSgpICsgc2VsZi5yZXRyeV90b3RhbAogICAgICAgIHdoaWxlIHRpbWUudGltZSgpIDwgZW5kX3RpbWU6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGFjdGl2YXRlX3N1Y2NlZWRlZCA9IHNlbGYuX2FjdGl2YXRlKCkKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgYWN0aXZhdGVfc3VjY2VlZGVkID0gRmFsc2UKICAgICAgICAgICAgaWYgYWN0aXZhdGVfc3VjY2VlZGVkOgogICAgICAgICAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgdGltZS5zbGVlcChzZWxmLnJldHJ5X3dhaXQpCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIF9kZWFjdGl2YXRlKHNlbGYpOgogICAgICAgIHJldHVybgoKICAgIGRlZiBkZWFjdGl2YXRlKHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5fZGVhY3RpdmF0ZSgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCiAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSAwCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgZGVjcnlwdF9wYWNrZXQoc2VsZiwgcGt0KToKICAgICAgICBpZiBwa3QgYW5kIGxlbihwa3QpID4gUEFDS0VUX0hFQURFUl9TSVpFOgogICAgICAgICAgICB4b3Jfa2V5ID0gc3RydWN0LnVucGFjaygnQkJCQicsIHBrdFs6UEFDS0VUX1hPUl9LRVlfU0laRV0pCiAgICAgICAgICAgIHJhdyA9IHhvcl9ieXRlcyh4b3Jfa2V5LCBwa3QpCiAgICAgICAgICAgIGVuY19vZmZzZXQgPSBQQUNLRVRfWE9SX0tFWV9TSVpFICsgUEFDS0VUX1NFU1NJT05fR1VJRF9TSVpFCiAgICAgICAgICAgIGVuY19mbGFnID0gc3RydWN0LnVucGFjaygnPkknLCByYXdbZW5jX29mZnNldDplbmNfb2Zmc2V0K1BBQ0tFVF9FTkNSWVBUX0ZMQUdfU0laRV0pWzBdCiAgICAgICAgICAgIGlmIGVuY19mbGFnID09IEVOQ19BRVMyNTY6CiAgICAgICAgICAgICAgICBpdiA9IHJhd1tQQUNLRVRfSEVBREVSX1NJWkU6UEFDS0VUX0hFQURFUl9TSVpFKzE2XQogICAgICAgICAgICAgICAgZW5jcnlwdGVkID0gcmF3W1BBQ0tFVF9IRUFERVJfU0laRStsZW4oaXYpOl0KICAgICAgICAgICAgICAgIHJldHVybiBtZXRfYWVzX2RlY3J5cHQoc2VsZi5hZXNfa2V5LCBpdiwgZW5jcnlwdGVkKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIHJhd1tQQUNLRVRfSEVBREVSX1NJWkU6XQogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIGdldF9wYWNrZXQoc2VsZik6CiAgICAgICAgc2VsZi5yZXF1ZXN0X3JldGlyZSA9IEZhbHNlCiAgICAgICAgdHJ5OgogICAgICAgICAgICBwa3QgPSBzZWxmLmRlY3J5cHRfcGFja2V0KHNlbGYuX2dldF9wYWNrZXQoKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGRlYnVnX3RyYWNlYmFjaygpCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgaWYgcGt0IGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSB0aW1lLnRpbWUoKQogICAgICAgIHJldHVybiBwa3QKCiAgICBkZWYgZW5jcnlwdF9wYWNrZXQoc2VsZiwgcGt0KToKICAgICAgICAjIFRoZSBwYWNrZXQgbm93IGhhcyB0byBjb250YWluIHNlc3Npb24gR1VJRCBhbmQgZW5jcnlwdGlvbiBmbGFnIGluZm8KICAgICAgICAjIEFuZCBnaXZlbiB0aGF0IHdlJ3JlIG5vdCB5ZXQgc3VwcG9ydGluZyBBRVMsIHdlJ3JlIGdvaW5nIHRvIGp1c3QKICAgICAgICAjIGFsd2F5cyByZXR1cm4gdGhlIHNlc3Npb24gZ3VpZCBhbmQgdGhlIGVuY3J5cHRpb24gZmxhZyBzZXQgdG8gMAogICAgICAgIGVuY190eXBlID0gRU5DX05PTkUKICAgICAgICBpZiBzZWxmLmFlc19rZXk6CiAgICAgICAgICAgICMgVGhlIGVuY3J5cHRpb24ga2V5IGlzIHByZXNlbnQsIGJ1dCB3ZSBzaG91bGQgb25seSB1c2VkIHRoZSBrZXkKICAgICAgICAgICAgIyB3aGVuIGl0IGlzIGVuYWJsZWQuIElmIHdlIHVzZSBpdCBiZWZvcmUgaXQncyBlbmFibGVkLCB0aGVuIHdlCiAgICAgICAgICAgICMgZW5kIHVwIGVuY3J5cHRpbmcgdGhlIHBhY2tldCB0aGF0IGNvbnRhaW5zIHRoZSBrZXkgYmVmb3JlCiAgICAgICAgICAgICMgc2VuZGluZyBpdCBiYWNrIHRvIE1TRiwgYW5kIGl0IHdvbid0IGJlIGFibGUgdG8gZGVjcnlwdCBpdCB5ZXQuCiAgICAgICAgICAgIGlmIHNlbGYuYWVzX2VuYWJsZWQ6CiAgICAgICAgICAgICAgICBpdiA9IHJhbmRfYnl0ZXMoMTYpCiAgICAgICAgICAgICAgICBlbmMgPSBpdiArIG1ldF9hZXNfZW5jcnlwdChzZWxmLmFlc19rZXksIGl2LCBwa3RbODpdKQogICAgICAgICAgICAgICAgaGRyID0gc3RydWN0LnBhY2soJz5JJywgbGVuKGVuYykgKyA4KSArIHBrdFs0OjhdCiAgICAgICAgICAgICAgICBwa3QgPSBoZHIgKyBlbmMKICAgICAgICAgICAgICAgICMgV2UgY2hhbmdlIHRoZSBwYWNrZXQgZW5jcnlwdGlvbiB0eXBlIHRvIHRlbGwgTVNGIHRoYXQKICAgICAgICAgICAgICAgICMgdGhlIHBhY2tldCBpcyBlbmNyeXB0ZWQuCiAgICAgICAgICAgICAgICBlbmNfdHlwZSA9IEVOQ19BRVMyNTYKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICMgSWYgd2UgZ2V0IGhlcmUsIGl0IG1lYW5zIHRoYXQgdGhlIEFFUyBlbmNyeXB0aW9uIGtleQogICAgICAgICAgICAgICAgIyBpcyByZWFkeSB0byB1c2UgZnJvbSB0aGlzIHBvaW50IG9ud2FyZHMgYXMgdGhlIGxhc3QKICAgICAgICAgICAgICAgICMgcGxhaW4gdGV4dCBwYWNrZXQgaGFzIGJlZW4gc2VudCBiYWNrIHRvIE1TRiBjb250YWluaW5nCiAgICAgICAgICAgICAgICAjIHRoZSBrZXksIGFuZCBzbyBNU0Ygd2lsbCBiZSBhYmxlIHRvIGhhbmRsZSBlbmNyeXB0ZWQKICAgICAgICAgICAgICAgICMgY29tbXVuaWNhdGlvbnMgZnJvbSBoZXJlLgogICAgICAgICAgICAgICAgc2VsZi5hZXNfZW5hYmxlZCA9IFRydWUKCiAgICAgICAgeG9yX2tleSA9IHJhbmRfeG9yX2tleSgpCiAgICAgICAgcmF3ID0gYmluYXNjaWkuYTJiX2hleChieXRlcyhTRVNTSU9OX0dVSUQsICdVVEYtOCcpKSArIHN0cnVjdC5wYWNrKCc+SScsIGVuY190eXBlKSArIHBrdAogICAgICAgIHJlc3VsdCA9IHN0cnVjdC5wYWNrKCdCQkJCJywgKnhvcl9rZXkpICsgeG9yX2J5dGVzKHhvcl9rZXksIHJhdykKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgZGVmIHNlbmRfcGFja2V0KHNlbGYsIHBrdCk6CiAgICAgICAgcGt0ID0gc3RydWN0LnBhY2soJz5JJywgbGVuKHBrdCkgKyA0KSArIHBrdAogICAgICAgIHNlbGYucmVxdWVzdF9yZXRpcmUgPSBGYWxzZQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5fc2VuZF9wYWNrZXQoc2VsZi5lbmNyeXB0X3BhY2tldChwa3QpKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZGVidWdfdHJhY2ViYWNrKCkKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSB0aW1lLnRpbWUoKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIHRsdl9wYWNrX3RpbWVvdXRzKHNlbGYpOgogICAgICAgIHJlc3BvbnNlICA9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX0NPTU1fVElNRU9VVCwgc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfUkVUUllfVE9UQUwsIHNlbGYucmV0cnlfdG90YWwpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfUkVUUllfV0FJVCwgc2VsZi5yZXRyeV93YWl0KQogICAgICAgIHJldHVybiByZXNwb25zZQoKICAgIGRlZiB0bHZfcGFja190cmFuc3BvcnRfZ3JvdXAoc2VsZik6CiAgICAgICAgdHJhbnNfZ3JvdXAgID0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfVVJMLCBzZWxmLnVybCkKICAgICAgICB0cmFuc19ncm91cCArPSBzZWxmLnRsdl9wYWNrX3RpbWVvdXRzKCkKICAgICAgICByZXR1cm4gdHJhbnNfZ3JvdXAKCmNsYXNzIEh0dHBUcmFuc3BvcnQoVHJhbnNwb3J0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1cmwsIHByb3h5PU5vbmUsIHVzZXJfYWdlbnQ9Tm9uZSwgaHR0cF9ob3N0PU5vbmUsIGh0dHBfcmVmZXJlcj1Ob25lLCBodHRwX2Nvb2tpZT1Ob25lKToKICAgICAgICBzdXBlcihIdHRwVHJhbnNwb3J0LCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgb3BlbmVyX2FyZ3MgPSBbXQogICAgICAgIHNjaGVtZSA9IHVybC5zcGxpdCgnOicsIDEpWzBdCiAgICAgICAgaWYgc2NoZW1lID09ICdodHRwcycgYW5kICgoc3lzLnZlcnNpb25faW5mb1swXSA9PSAyIGFuZCBzeXMudmVyc2lvbl9pbmZvID49ICgyLCA3LCA5KSkgb3Igc3lzLnZlcnNpb25faW5mbyA+PSAoMywgNCwgMykpOgogICAgICAgICAgICBpbXBvcnQgc3NsCiAgICAgICAgICAgIHNzbF9jdHggPSBzc2wuU1NMQ29udGV4dChzc2wuUFJPVE9DT0xfU1NMdjIzKQogICAgICAgICAgICBzc2xfY3R4LmNoZWNrX2hvc3RuYW1lID0gRmFsc2UKICAgICAgICAgICAgc3NsX2N0eC52ZXJpZnlfbW9kZSA9IHNzbC5DRVJUX05PTkUKICAgICAgICAgICAgb3BlbmVyX2FyZ3MuYXBwZW5kKHVybGxpYi5IVFRQU0hhbmRsZXIoMCwgc3NsX2N0eCkpCiAgICAgICAgaWYgcHJveHk6CiAgICAgICAgICAgIG9wZW5lcl9hcmdzLmFwcGVuZCh1cmxsaWIuUHJveHlIYW5kbGVyKHtzY2hlbWU6IHByb3h5fSkpCiAgICAgICAgICAgIG9wZW5lcl9hcmdzLmFwcGVuZCh1cmxsaWIuUHJveHlCYXNpY0F1dGhIYW5kbGVyKCkpCiAgICAgICAgc2VsZi5wcm94eSA9IHByb3h5CiAgICAgICAgb3BlbmVyID0gdXJsbGliLmJ1aWxkX29wZW5lcigqb3BlbmVyX2FyZ3MpCiAgICAgICAgb3BlbmVyLmFkZGhlYWRlcnMgPSBbXQogICAgICAgIGlmIHVzZXJfYWdlbnQ6CiAgICAgICAgICAgIG9wZW5lci5hZGRoZWFkZXJzLmFwcGVuZCgoJ1VzZXItQWdlbnQnLCB1c2VyX2FnZW50KSkKICAgICAgICBpZiBodHRwX2Nvb2tpZToKICAgICAgICAgICAgb3BlbmVyLmFkZGhlYWRlcnMuYXBwZW5kKCgnQ29va2llJywgaHR0cF9jb29raWUpKQogICAgICAgIGlmIGh0dHBfcmVmZXJlcjoKICAgICAgICAgICAgb3BlbmVyLmFkZGhlYWRlcnMuYXBwZW5kKCgnUmVmZXJlcicsIGh0dHBfcmVmZXJlcikpCiAgICAgICAgc2VsZi51c2VyX2FnZW50ID0gdXNlcl9hZ2VudAogICAgICAgIHVybGxpYi5pbnN0YWxsX29wZW5lcihvcGVuZXIpCiAgICAgICAgc2VsZi51cmwgPSB1cmwKICAgICAgICBzZWxmLl9odHRwX3JlcXVlc3RfaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSd9CiAgICAgICAgaWYgaHR0cF9ob3N0OgogICAgICAgICAgICBzZWxmLl9odHRwX3JlcXVlc3RfaGVhZGVyc1snSG9zdCddID0gaHR0cF9ob3N0CiAgICAgICAgc2VsZi5fZmlyc3RfcGFja2V0ID0gTm9uZQogICAgICAgIHNlbGYuX2VtcHR5X2NudCA9IDAKCiAgICBkZWYgX2FjdGl2YXRlKHNlbGYpOgogICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgc2VsZi5fZmlyc3RfcGFja2V0ID0gTm9uZQogICAgICAgIHBhY2tldCA9IHNlbGYuX2dldF9wYWNrZXQoKQogICAgICAgIGlmIHBhY2tldCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBzZWxmLl9maXJzdF9wYWNrZXQgPSBwYWNrZXQKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfZ2V0X3BhY2tldChzZWxmKToKICAgICAgICBpZiBzZWxmLl9maXJzdF9wYWNrZXQ6CiAgICAgICAgICAgIHBhY2tldCA9IHNlbGYuX2ZpcnN0X3BhY2tldAogICAgICAgICAgICBzZWxmLl9maXJzdF9wYWNrZXQgPSBOb25lCiAgICAgICAgICAgIHJldHVybiBwYWNrZXQKICAgICAgICBwYWNrZXQgPSBOb25lCiAgICAgICAgeG9yX2tleSA9IE5vbmUKICAgICAgICByZXF1ZXN0ID0gdXJsbGliLlJlcXVlc3Qoc2VsZi51cmwsIE5vbmUsIHNlbGYuX2h0dHBfcmVxdWVzdF9oZWFkZXJzKQogICAgICAgIHVybG9wZW5fa3dhcmdzID0ge30KICAgICAgICBpZiBzeXMudmVyc2lvbl9pbmZvID4gKDIsIDYpOgogICAgICAgICAgICB1cmxvcGVuX2t3YXJnc1sndGltZW91dCddID0gc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQKICAgICAgICB0cnk6CiAgICAgICAgICAgIHVybF9oID0gdXJsbGliLnVybG9wZW4ocmVxdWVzdCwgKip1cmxvcGVuX2t3YXJncykKICAgICAgICAgICAgcGFja2V0ID0gdXJsX2gucmVhZCgpCiAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKDEpOgogICAgICAgICAgICAgICAgaWYgcGFja2V0ID09ICcnOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBpZiBsZW4ocGFja2V0KSA8IFBBQ0tFVF9IRUFERVJfU0laRToKICAgICAgICAgICAgICAgICAgICBwYWNrZXQgPSBOb25lICAjIGxvb2tzIGNvcnJ1cHQKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgeG9yX2tleSA9IHN0cnVjdC51bnBhY2soJ0JCQkInLCBwYWNrZXRbOlBBQ0tFVF9YT1JfS0VZX1NJWkVdKQogICAgICAgICAgICAgICAgaGVhZGVyID0geG9yX2J5dGVzKHhvcl9rZXksIHBhY2tldFs6UEFDS0VUX0hFQURFUl9TSVpFXSkKICAgICAgICAgICAgICAgIHBrdF9sZW5ndGggPSBzdHJ1Y3QudW5wYWNrKCc+SScsIGhlYWRlcltQQUNLRVRfTEVOR1RIX09GRjpQQUNLRVRfTEVOR1RIX09GRitQQUNLRVRfTEVOR1RIX1NJWkVdKVswXSAtIDgKICAgICAgICAgICAgICAgIGlmIGxlbihwYWNrZXQpICE9IChwa3RfbGVuZ3RoICsgUEFDS0VUX0hFQURFUl9TSVpFKToKICAgICAgICAgICAgICAgICAgICBwYWNrZXQgPSBOb25lICAjIGxvb2tzIGNvcnJ1cHQKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGRlYnVnX3RyYWNlYmFjaygnRmFpbHVyZSB0byByZWNlaXZlIHBhY2tldCBmcm9tICcgKyBzZWxmLnVybCkKCiAgICAgICAgaWYgbm90IHBhY2tldDoKICAgICAgICAgICAgZGVsYXkgPSAxMCAqIHNlbGYuX2VtcHR5X2NudAogICAgICAgICAgICBpZiBzZWxmLl9lbXB0eV9jbnQgPj0gMDoKICAgICAgICAgICAgICAgIGRlbGF5ICo9IDEwCiAgICAgICAgICAgIHNlbGYuX2VtcHR5X2NudCArPSAxCiAgICAgICAgICAgIHRpbWUuc2xlZXAoZmxvYXQobWluKDEwMDAwLCBkZWxheSkpIC8gMTAwMCkKICAgICAgICAgICAgcmV0dXJuIHBhY2tldAoKICAgICAgICBzZWxmLl9lbXB0eV9jbnQgPSAwCiAgICAgICAgcmV0dXJuIHBhY2tldAoKICAgIGRlZiBfc2VuZF9wYWNrZXQoc2VsZiwgcGFja2V0KToKICAgICAgICByZXF1ZXN0ID0gdXJsbGliLlJlcXVlc3Qoc2VsZi51cmwsIHBhY2tldCwgc2VsZi5faHR0cF9yZXF1ZXN0X2hlYWRlcnMpCiAgICAgICAgdXJsb3Blbl9rd2FyZ3MgPSB7fQogICAgICAgIGlmIHN5cy52ZXJzaW9uX2luZm8gPiAoMiwgNik6CiAgICAgICAgICAgIHVybG9wZW5fa3dhcmdzWyd0aW1lb3V0J10gPSBzZWxmLmNvbW11bmljYXRpb25fdGltZW91dAogICAgICAgIHVybF9oID0gdXJsbGliLnVybG9wZW4ocmVxdWVzdCwgKip1cmxvcGVuX2t3YXJncykKICAgICAgICByZXNwb25zZSA9IHVybF9oLnJlYWQoKQoKICAgIGRlZiBwYXRjaF91cmlfcGF0aChzZWxmLCBuZXdfcGF0aCk6CiAgICAgICAgbWF0Y2ggPSByZS5tYXRjaChyJ2h0dHBzPzovL1teL10rKC8uKiQpJywgc2VsZi51cmwpCiAgICAgICAgaWYgbWF0Y2ggaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgc2VsZi51cmwgPSBzZWxmLnVybFs6bWF0Y2guc3BhbigxKVswXV0gKyBuZXdfcGF0aAogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIHRsdl9wYWNrX3RyYW5zcG9ydF9ncm91cChzZWxmKToKICAgICAgICB0cmFuc19ncm91cCAgPSBzdXBlcihIdHRwVHJhbnNwb3J0LCBzZWxmKS50bHZfcGFja190cmFuc3BvcnRfZ3JvdXAoKQogICAgICAgIGlmIHNlbGYudXNlcl9hZ2VudDoKICAgICAgICAgICAgdHJhbnNfZ3JvdXAgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfVUEsIHNlbGYudXNlcl9hZ2VudCkKICAgICAgICBpZiBzZWxmLnByb3h5OgogICAgICAgICAgICB0cmFuc19ncm91cCArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19QUk9YWV9IT1NULCBzZWxmLnByb3h5KQogICAgICAgIHJldHVybiB0cmFuc19ncm91cAoKY2xhc3MgVGNwVHJhbnNwb3J0KFRyYW5zcG9ydCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXJsLCBzb2NrZXQ9Tm9uZSk6CiAgICAgICAgc3VwZXIoVGNwVHJhbnNwb3J0LCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51cmwgPSB1cmwKICAgICAgICBzZWxmLnNvY2tldCA9IHNvY2tldAogICAgICAgIHNlbGYuX2NsZWFudXBfdGhyZWFkID0gTm9uZQogICAgICAgIHNlbGYuX2ZpcnN0X3BhY2tldCA9IFRydWUKCiAgICBkZWYgX3NvY2tfY2xlYW51cChzZWxmLCBzb2NrKToKICAgICAgICByZW1haW5pbmdfdGltZSA9IHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0CiAgICAgICAgd2hpbGUgcmVtYWluaW5nX3RpbWUgPiAwOgogICAgICAgICAgICBpdGVyX3N0YXJ0X3RpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICBpZiBzZWxlY3Quc2VsZWN0KFtzb2NrXSwgW10sIFtdLCByZW1haW5pbmdfdGltZSlbMF06CiAgICAgICAgICAgICAgICBpZiBsZW4oc29jay5yZWN2KDQwOTYpKSA9PSAwOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIHJlbWFpbmluZ190aW1lIC09IHRpbWUudGltZSgpIC0gaXRlcl9zdGFydF90aW1lCiAgICAgICAgc29jay5jbG9zZSgpCgogICAgZGVmIF9hY3RpdmF0ZShzZWxmKToKICAgICAgICBhZGRyZXNzLCBwb3J0ID0gc2VsZi51cmxbNjpdLnJzcGxpdCgnOicsIDEpCiAgICAgICAgcG9ydCA9IGludChwb3J0LnJzdHJpcCgnLycpKQogICAgICAgIHRpbWVvdXQgPSBtYXgoc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQsIDMwKQogICAgICAgIGlmIGFkZHJlc3MgaW4gKCcnLCAnMC4wLjAuMCcsICc6OicpOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZXJ2ZXJfc29jayA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQ2LCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgICAgICBzZXJ2ZXJfc29jay5zZXRzb2Nrb3B0KHNvY2tldC5JUFBST1RPX0lQVjYsIHNvY2tldC5JUFY2X1Y2T05MWSwgMCkKICAgICAgICAgICAgZXhjZXB0IChBdHRyaWJ1dGVFcnJvciwgc29ja2V0LmVycm9yKToKICAgICAgICAgICAgICAgIHNlcnZlcl9zb2NrID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgICAgICBzZXJ2ZXJfc29jay5iaW5kKCgnJywgcG9ydCkpCiAgICAgICAgICAgIHNlcnZlcl9zb2NrLmxpc3RlbigxKQogICAgICAgICAgICBpZiBub3Qgc2VsZWN0LnNlbGVjdChbc2VydmVyX3NvY2tdLCBbXSwgW10sIHRpbWVvdXQpWzBdOgogICAgICAgICAgICAgICAgc2VydmVyX3NvY2suY2xvc2UoKQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgICAgIHNvY2ssIF8gPSBzZXJ2ZXJfc29jay5hY2NlcHQoKQogICAgICAgICAgICBzZXJ2ZXJfc29jay5jbG9zZSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgJzonIGluIGFkZHJlc3M6CiAgICAgICAgICAgICAgICBzb2NrID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVDYsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgIHNvY2suc2V0dGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICBzb2NrLmNvbm5lY3QoKGFkZHJlc3MsIHBvcnQpKQogICAgICAgICAgICBzb2NrLnNldHRpbWVvdXQoTm9uZSkKICAgICAgICBzZWxmLnNvY2tldCA9IHNvY2sKICAgICAgICBzZWxmLl9maXJzdF9wYWNrZXQgPSBUcnVlCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgX2RlYWN0aXZhdGUoc2VsZik6CiAgICAgICAgY2xlYW51cCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNlbGYuX3NvY2tfY2xlYW51cCwgYXJncz0oc2VsZi5zb2NrZXQsKSkKICAgICAgICBjbGVhbnVwLnJ1bigpCiAgICAgICAgc2VsZi5zb2NrZXQgPSBOb25lCgogICAgZGVmIF9nZXRfcGFja2V0KHNlbGYpOgogICAgICAgIGZpcnN0ID0gc2VsZi5fZmlyc3RfcGFja2V0CiAgICAgICAgc2VsZi5fZmlyc3RfcGFja2V0ID0gRmFsc2UKICAgICAgICBpZiBub3Qgc2VsZWN0LnNlbGVjdChbc2VsZi5zb2NrZXRdLCBbXSwgW10sIDAuNSlbMF06CiAgICAgICAgICAgIHJldHVybiBieXRlcygpCiAgICAgICAgcGFja2V0ID0gc2VsZi5zb2NrZXQucmVjdihQQUNLRVRfSEVBREVSX1NJWkUpCiAgICAgICAgaWYgcGFja2V0ID09ICcnOiAgIyByZW1vdGUgaXMgY2xvc2VkCiAgICAgICAgICAgIHNlbGYucmVxdWVzdF9yZXRpcmUgPSBUcnVlCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgaWYgbGVuKHBhY2tldCkgIT0gUEFDS0VUX0hFQURFUl9TSVpFOgogICAgICAgICAgICBpZiBmaXJzdCBhbmQgbGVuKHBhY2tldCkgPT0gNDoKICAgICAgICAgICAgICAgIHJlY2VpdmVkID0gMAogICAgICAgICAgICAgICAgaGVhZGVyID0gcGFja2V0Wzo0XQogICAgICAgICAgICAgICAgcGt0X2xlbmd0aCA9IHN0cnVjdC51bnBhY2soJz5JJywgaGVhZGVyKVswXQogICAgICAgICAgICAgICAgc2VsZi5zb2NrZXQuc2V0dGltZW91dChtYXgoc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQsIDMwKSkKICAgICAgICAgICAgICAgIHdoaWxlIHJlY2VpdmVkIDwgcGt0X2xlbmd0aDoKICAgICAgICAgICAgICAgICAgICByZWNlaXZlZCArPSBsZW4oc2VsZi5zb2NrZXQucmVjdihwa3RfbGVuZ3RoIC0gcmVjZWl2ZWQpKQogICAgICAgICAgICAgICAgc2VsZi5zb2NrZXQuc2V0dGltZW91dChOb25lKQogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2dldF9wYWNrZXQoKQogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICB4b3Jfa2V5ID0gc3RydWN0LnVucGFjaygnQkJCQicsIHBhY2tldFs6UEFDS0VUX1hPUl9LRVlfU0laRV0pCiAgICAgICAgIyBYT1IgdGhlIHdob2xlIGhlYWRlciBmaXJzdAogICAgICAgIGhlYWRlciA9IHhvcl9ieXRlcyh4b3Jfa2V5LCBwYWNrZXRbOlBBQ0tFVF9IRUFERVJfU0laRV0pCiAgICAgICAgIyBFeHRyYWN0IGp1c3QgdGhlIGxlbmd0aAogICAgICAgIHBrdF9sZW5ndGggPSBzdHJ1Y3QudW5wYWNrKCc+SScsIGhlYWRlcltQQUNLRVRfTEVOR1RIX09GRjpQQUNLRVRfTEVOR1RIX09GRitQQUNLRVRfTEVOR1RIX1NJWkVdKVswXQogICAgICAgIHBrdF9sZW5ndGggLT0gOAogICAgICAgICMgUmVhZCB0aGUgcmVzdCBvZiB0aGUgcGFja2V0CiAgICAgICAgcmVzdCA9IGJ5dGVzKCkKICAgICAgICB3aGlsZSBsZW4ocmVzdCkgPCBwa3RfbGVuZ3RoOgogICAgICAgICAgICByZXN0ICs9IHNlbGYuc29ja2V0LnJlY3YocGt0X2xlbmd0aCAtIGxlbihyZXN0KSkKICAgICAgICAjIHJldHVybiB0aGUgd2hvbGUgcGFja2V0LCBhcyBpdCdzIGRlY29kZWQgc2VwYXJhdGVseQogICAgICAgIHJldHVybiBwYWNrZXQgKyByZXN0CgogICAgZGVmIF9zZW5kX3BhY2tldChzZWxmLCBwYWNrZXQpOgogICAgICAgIHNlbGYuc29ja2V0LnNlbmQocGFja2V0KQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fc29ja2V0KGNscywgc29jayk6CiAgICAgICAgdXJsID0gJ3RjcDovLycKICAgICAgICBhZGRyZXNzLCBwb3J0ID0gc29jay5nZXRzb2NrbmFtZSgpWzoyXQogICAgICAgICMgdGhpcyB3aWxsIG5lZWQgdG8gYmUgY2hhbmdlZCBpZiB0aGUgYmluZCBzdGFnZXIgZXZlciBzdXBwb3J0cyBiaW5kaW5nIHRvIGEgc3BlY2lmaWMgYWRkcmVzcwogICAgICAgIGlmIG5vdCBhZGRyZXNzIGluICgnJywgJzAuMC4wLjAnLCAnOjonKToKICAgICAgICAgICAgYWRkcmVzcywgcG9ydCA9IHNvY2suZ2V0cGVlcm5hbWUoKVs6Ml0KICAgICAgICB1cmwgKz0gYWRkcmVzcyArICc6JyArIHN0cihwb3J0KQogICAgICAgIHJldHVybiBjbHModXJsLCBzb2NrKQoKY2xhc3MgUHl0aG9uTWV0ZXJwcmV0ZXIob2JqZWN0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB0cmFuc3BvcnQpOgogICAgICAgIHNlbGYudHJhbnNwb3J0ID0gdHJhbnNwb3J0CiAgICAgICAgc2VsZi5fdHJhbnNwb3J0X3NsZWVwID0gTm9uZQogICAgICAgIHNlbGYucnVubmluZyA9IEZhbHNlCiAgICAgICAgc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uID0gTm9uZQogICAgICAgIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9ucyA9IHt9CiAgICAgICAgc2VsZi5jaGFubmVscyA9IHt9CiAgICAgICAgc2VsZi5uZXh0X2NoYW5uZWxfaWQgPSAxCiAgICAgICAgc2VsZi5pbnRlcmFjdF9jaGFubmVscyA9IFtdCiAgICAgICAgc2VsZi5wcm9jZXNzZXMgPSB7fQogICAgICAgIHNlbGYubmV4dF9wcm9jZXNzX2lkID0gMQogICAgICAgIHNlbGYudHJhbnNwb3J0cyA9IFtzZWxmLnRyYW5zcG9ydF0KICAgICAgICBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUgPSBTRVNTSU9OX0VYUElSQVRJT05fVElNRU9VVAogICAgICAgIHNlbGYuc2Vzc2lvbl9leHBpcnlfZW5kID0gdGltZS50aW1lKCkgKyBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUKICAgICAgICBmb3IgZnVuYyBpbiBsaXN0KGZpbHRlcihsYW1iZGEgeDogeC5zdGFydHN3aXRoKCdfY29yZScpLCBkaXIoc2VsZikpKToKICAgICAgICAgICAgc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zW2Z1bmNbMTpdXSA9IGdldGF0dHIoc2VsZiwgZnVuYykKICAgICAgICBzZWxmLnJ1bm5pbmcgPSBUcnVlCgogICAgZGVmIHJlZ2lzdGVyX2V4dGVuc2lvbihzZWxmLCBleHRlbnNpb25fbmFtZSk6CiAgICAgICAgc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uID0gZXh0ZW5zaW9uX25hbWUKICAgICAgICByZXR1cm4gc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uCgogICAgZGVmIHJlZ2lzdGVyX2Z1bmN0aW9uKHNlbGYsIGZ1bmMpOgogICAgICAgIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uc1tmdW5jLl9fbmFtZV9fXSA9IGZ1bmMKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiByZWdpc3Rlcl9mdW5jdGlvbl9pZihzZWxmLCBjb25kaXRpb24pOgogICAgICAgIGlmIGNvbmRpdGlvbjoKICAgICAgICAgICAgcmV0dXJuIHNlbGYucmVnaXN0ZXJfZnVuY3Rpb24KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gbGFtYmRhIGZ1bmN0aW9uOiBmdW5jdGlvbgoKICAgIGRlZiByZWdpc3Rlcl9mdW5jdGlvbl93aW5kbGwoc2VsZiwgZnVuYyk6CiAgICAgICAgaWYgaGFzX3dpbmRsbDoKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9mdW5jdGlvbihmdW5jKQogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGFkZF9jaGFubmVsKHNlbGYsIGNoYW5uZWwpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGNoYW5uZWwsIE1ldGVycHJldGVyQ2hhbm5lbCk6CiAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbLV0gY2hhbm5lbCBvYmplY3QgaXMgbm90IGFuIGluc3RhbmNlIG9mIE1ldGVycHJldGVyQ2hhbm5lbCcpCiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcignaW52YWxpZCBjaGFubmVsIG9iamVjdCcpCiAgICAgICAgaWR4ID0gc2VsZi5uZXh0X2NoYW5uZWxfaWQKICAgICAgICBzZWxmLmNoYW5uZWxzW2lkeF0gPSBjaGFubmVsCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBhZGRlZCBjaGFubmVsIGlkOiAnICsgc3RyKGlkeCkgKyAnIHR5cGU6ICcgKyBjaGFubmVsLl9fY2xhc3NfXy5fX25hbWVfXykKICAgICAgICBzZWxmLm5leHRfY2hhbm5lbF9pZCArPSAxCiAgICAgICAgcmV0dXJuIGlkeAoKICAgIGRlZiBhZGRfcHJvY2VzcyhzZWxmLCBwcm9jZXNzKToKICAgICAgICBpZHggPSBzZWxmLm5leHRfcHJvY2Vzc19pZAogICAgICAgIHNlbGYucHJvY2Vzc2VzW2lkeF0gPSBwcm9jZXNzCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBhZGRlZCBwcm9jZXNzIGlkOiAnICsgc3RyKGlkeCkpCiAgICAgICAgc2VsZi5uZXh0X3Byb2Nlc3NfaWQgKz0gMQogICAgICAgIHJldHVybiBpZHgKCiAgICBkZWYgZ2V0X3BhY2tldChzZWxmKToKICAgICAgICBwa3QgPSBzZWxmLnRyYW5zcG9ydC5nZXRfcGFja2V0KCkKICAgICAgICBpZiBwa3QgaXMgTm9uZSBhbmQgc2VsZi50cmFuc3BvcnQuc2hvdWxkX3JldGlyZToKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnRfY2hhbmdlKCkKICAgICAgICByZXR1cm4gcGt0CgogICAgZGVmIHNlbmRfcGFja2V0KHNlbGYsIHBhY2tldCk6CiAgICAgICAgc2VuZF9zdWNjZWVkZWQgPSBzZWxmLnRyYW5zcG9ydC5zZW5kX3BhY2tldChwYWNrZXQpCiAgICAgICAgaWYgbm90IHNlbmRfc3VjY2VlZGVkIGFuZCBzZWxmLnRyYW5zcG9ydC5zaG91bGRfcmV0aXJlOgogICAgICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UoKQogICAgICAgIHJldHVybiBzZW5kX3N1Y2NlZWRlZAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNlc3Npb25faGFzX2V4cGlyZWQoc2VsZik6CiAgICAgICAgaWYgc2VsZi5zZXNzaW9uX2V4cGlyeV90aW1lID09IDA6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHJldHVybiB0aW1lLnRpbWUoKSA+IHNlbGYuc2Vzc2lvbl9leHBpcnlfZW5kCgogICAgZGVmIHRyYW5zcG9ydF9hZGQoc2VsZiwgbmV3X3RyYW5zcG9ydCk6CiAgICAgICAgbmV3X3Bvc2l0aW9uID0gc2VsZi50cmFuc3BvcnRzLmluZGV4KHNlbGYudHJhbnNwb3J0KQogICAgICAgIHNlbGYudHJhbnNwb3J0cy5pbnNlcnQobmV3X3Bvc2l0aW9uLCBuZXdfdHJhbnNwb3J0KQoKICAgIGRlZiB0cmFuc3BvcnRfY2hhbmdlKHNlbGYsIG5ld190cmFuc3BvcnQ9Tm9uZSk6CiAgICAgICAgaWYgbmV3X3RyYW5zcG9ydCBpcyBOb25lOgogICAgICAgICAgICBuZXdfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dCgpCiAgICAgICAgc2VsZi50cmFuc3BvcnQuZGVhY3RpdmF0ZSgpCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBjaGFuZ2luZyB0cmFuc3BvcnQgdG86ICcgKyBuZXdfdHJhbnNwb3J0LnVybCkKICAgICAgICB3aGlsZSBub3QgbmV3X3RyYW5zcG9ydC5hY3RpdmF0ZSgpOgogICAgICAgICAgICBuZXdfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dChuZXdfdHJhbnNwb3J0KQogICAgICAgICAgICBkZWJ1Z19wcmludCgnWypdIGNoYW5naW5nIHRyYW5zcG9ydCB0bzogJyArIG5ld190cmFuc3BvcnQudXJsKQogICAgICAgIHNlbGYudHJhbnNwb3J0ID0gbmV3X3RyYW5zcG9ydAoKICAgIGRlZiB0cmFuc3BvcnRfbmV4dChzZWxmLCBjdXJyZW50X3RyYW5zcG9ydD1Ob25lKToKICAgICAgICBpZiBjdXJyZW50X3RyYW5zcG9ydCBpcyBOb25lOgogICAgICAgICAgICBjdXJyZW50X3RyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0CiAgICAgICAgbmV3X2lkeCA9IHNlbGYudHJhbnNwb3J0cy5pbmRleChjdXJyZW50X3RyYW5zcG9ydCkgKyAxCiAgICAgICAgaWYgbmV3X2lkeCA9PSBsZW4oc2VsZi50cmFuc3BvcnRzKToKICAgICAgICAgICAgbmV3X2lkeCA9IDAKICAgICAgICByZXR1cm4gc2VsZi50cmFuc3BvcnRzW25ld19pZHhdCgogICAgZGVmIHRyYW5zcG9ydF9wcmV2KHNlbGYsIGN1cnJlbnRfdHJhbnNwb3J0PU5vbmUpOgogICAgICAgIGlmIGN1cnJlbnRfdHJhbnNwb3J0IGlzIE5vbmU6CiAgICAgICAgICAgIGN1cnJlbnRfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnQKICAgICAgICBuZXdfaWR4ID0gc2VsZi50cmFuc3BvcnRzLmluZGV4KGN1cnJlbnRfdHJhbnNwb3J0KSAtIDEKICAgICAgICBpZiBuZXdfaWR4ID09IC0xOgogICAgICAgICAgICBuZXdfaWR4ID0gbGVuKHNlbGYudHJhbnNwb3J0cykgLSAxCiAgICAgICAgcmV0dXJuIHNlbGYudHJhbnNwb3J0c1tuZXdfaWR4XQoKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgd2hpbGUgc2VsZi5ydW5uaW5nIGFuZCBub3Qgc2VsZi5zZXNzaW9uX2hhc19leHBpcmVkOgogICAgICAgICAgICByZXF1ZXN0ID0gc2VsZi5nZXRfcGFja2V0KCkKICAgICAgICAgICAgaWYgcmVxdWVzdDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gc2VsZi5jcmVhdGVfcmVzcG9uc2UocmVxdWVzdCkKICAgICAgICAgICAgICAgIGlmIHJlc3BvbnNlOgogICAgICAgICAgICAgICAgICAgIHNlbGYuc2VuZF9wYWNrZXQocmVzcG9uc2UpCiAgICAgICAgICAgICAgICBpZiBzZWxmLl90cmFuc3BvcnRfc2xlZXA6CiAgICAgICAgICAgICAgICAgICAgc2VsZi50cmFuc3BvcnQuZGVhY3RpdmF0ZSgpCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcChzZWxmLl90cmFuc3BvcnRfc2xlZXApCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fdHJhbnNwb3J0X3NsZWVwID0gTm9uZQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLnRyYW5zcG9ydC5hY3RpdmF0ZSgpOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UoKQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICMgaXRlcmF0ZSBvdmVyIHRoZSBrZXlzIGJlY2F1c2Ugc2VsZi5jaGFubmVscyBjb3VsZCBiZSBtb2RpZmllZCBpZiBvbmUgaXMgY2xvc2VkCiAgICAgICAgICAgIGNoYW5uZWxfaWRzID0gbGlzdChzZWxmLmNoYW5uZWxzLmtleXMoKSkKICAgICAgICAgICAgZm9yIGNoYW5uZWxfaWQgaW4gY2hhbm5lbF9pZHM6CiAgICAgICAgICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgICAgICAgICAgZGF0YSA9IGJ5dGVzKCkKICAgICAgICAgICAgICAgIHdyaXRlX3JlcXVlc3RfcGFydHMgPSBbXQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShjaGFubmVsLCBNZXRlcnByZXRlclByb2Nlc3MpOgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBjaGFubmVsX2lkIGluIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHM6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgcHJvY19oID0gY2hhbm5lbC5wcm9jX2gKICAgICAgICAgICAgICAgICAgICBpZiBwcm9jX2guc3RkZXJyX3JlYWRlci5pc19yZWFkX3JlYWR5KCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBwcm9jX2guc3RkZXJyX3JlYWRlci5yZWFkKCkKICAgICAgICAgICAgICAgICAgICBlbGlmIHByb2NfaC5zdGRvdXRfcmVhZGVyLmlzX3JlYWRfcmVhZHkoKToKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHByb2NfaC5zdGRvdXRfcmVhZGVyLnJlYWQoKQogICAgICAgICAgICAgICAgICAgIGVsaWYgbm90IGNoYW5uZWwuaXNfYWxpdmUoKToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKGNoYW5uZWxfaWQpCiAgICAgICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoY2hhbm5lbCwgTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BDbGllbnQpOgogICAgICAgICAgICAgICAgICAgIHdoaWxlIHNlbGVjdC5zZWxlY3QoW2NoYW5uZWwuZmlsZW5vKCldLCBbXSwgW10sIDApWzBdOgogICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gY2hhbm5lbC5yZWFkKDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBzb2NrZXQuZXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gYnl0ZXMoKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oZCkgPT0gMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlX2RlYWRfcmVzb3VyY2VfY2hhbm5lbChjaGFubmVsX2lkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSArPSBkCiAgICAgICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoY2hhbm5lbCwgTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BTZXJ2ZXIpOgogICAgICAgICAgICAgICAgICAgIGlmIHNlbGVjdC5zZWxlY3QoW2NoYW5uZWwuZmlsZW5vKCldLCBbXSwgW10sIDApWzBdOgogICAgICAgICAgICAgICAgICAgICAgICAoY2xpZW50X3NvY2ssIGNsaWVudF9hZGRyKSA9IGNoYW5uZWwuc29jay5hY2NlcHQoKQogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJfYWRkciA9IGNoYW5uZWwuc29jay5nZXRzb2NrbmFtZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9jaGFubmVsX2lkID0gc2VsZi5hZGRfY2hhbm5lbChNZXRlcnByZXRlclNvY2tldFRDUENsaWVudChjbGllbnRfc29jaykpCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VuZF9wYWNrZXQodGx2X3BhY2tfcmVxdWVzdCgnc3RkYXBpX25ldF90Y3BfY2hhbm5lbF9vcGVuJywgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfQ0hBTk5FTF9JRCwgJ3ZhbHVlJzogY2xpZW50X2NoYW5uZWxfaWR9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfQ0hBTk5FTF9QQVJFTlRJRCwgJ3ZhbHVlJzogY2hhbm5lbF9pZH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9MT0NBTF9IT1NULCAndmFsdWUnOiBpbmV0X3B0b24oY2hhbm5lbC5zb2NrLmZhbWlseSwgc2VydmVyX2FkZHJbMF0pfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0xPQ0FMX1BPUlQsICd2YWx1ZSc6IHNlcnZlcl9hZGRyWzFdfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX1BFRVJfSE9TVCwgJ3ZhbHVlJzogaW5ldF9wdG9uKGNsaWVudF9zb2NrLmZhbWlseSwgY2xpZW50X2FkZHJbMF0pfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX1BFRVJfUE9SVCwgJ3ZhbHVlJzogY2xpZW50X2FkZHJbMV19LAogICAgICAgICAgICAgICAgICAgICAgICBdKSkKICAgICAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZShjaGFubmVsLCBNZXRlcnByZXRlclNvY2tldFVEUENsaWVudCk6CiAgICAgICAgICAgICAgICAgICAgaWYgc2VsZWN0LnNlbGVjdChbY2hhbm5lbC5maWxlbm8oKV0sIFtdLCBbXSwgMClbMF06CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsIHBlZXJfYWRkcmVzcyA9IGNoYW5uZWwuc29jay5yZWN2ZnJvbSg2NTUzNSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IHNvY2tldC5lcnJvcjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlX2RlYWRfcmVzb3VyY2VfY2hhbm5lbChjaGFubmVsX2lkKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVfcmVxdWVzdF9wYXJ0cy5leHRlbmQoWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX1BFRVJfSE9TVCwgJ3ZhbHVlJzogcGVlcl9hZGRyZXNzWzBdfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9QRUVSX1BPUlQsICd2YWx1ZSc6IHBlZXJfYWRkcmVzc1sxXX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgaWYgZGF0YToKICAgICAgICAgICAgICAgICAgICB3cml0ZV9yZXF1ZXN0X3BhcnRzLmV4dGVuZChbCiAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0NIQU5ORUxfSUQsICd2YWx1ZSc6IGNoYW5uZWxfaWR9LAogICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9DSEFOTkVMX0RBVEEsICd2YWx1ZSc6IGRhdGF9LAogICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9MRU5HVEgsICd2YWx1ZSc6IGxlbihkYXRhKX0sCiAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHRsdl9wYWNrX3JlcXVlc3QoJ2NvcmVfY2hhbm5lbF93cml0ZScsIHdyaXRlX3JlcXVlc3RfcGFydHMpKQoKICAgIGRlZiBoYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKHNlbGYsIGNoYW5uZWxfaWQpOgogICAgICAgIGRlbCBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgaWYgY2hhbm5lbF9pZCBpbiBzZWxmLmludGVyYWN0X2NoYW5uZWxzOgogICAgICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzLnJlbW92ZShjaGFubmVsX2lkKQogICAgICAgIHNlbGYuc2VuZF9wYWNrZXQodGx2X3BhY2tfcmVxdWVzdCgnY29yZV9jaGFubmVsX2Nsb3NlJywgWwogICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9DSEFOTkVMX0lELCAndmFsdWUnOiBjaGFubmVsX2lkfSwKICAgICAgICBdKSkKCiAgICBkZWYgX2NvcmVfc2V0X3V1aWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld191dWlkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVVVJRCkKICAgICAgICBpZiBuZXdfdXVpZDoKICAgICAgICAgICAgUEFZTE9BRF9VVUlEID0gYmluYXNjaWkuYjJhX2hleChuZXdfdXVpZFsndmFsdWUnXSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfZW51bWV4dGNtZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgaWRfc3RhcnQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9VSU5UKVsndmFsdWUnXQogICAgICAgIGlkX2VuZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0xFTkdUSClbJ3ZhbHVlJ10gKyBpZF9zdGFydAogICAgICAgIGZvciBmdW5jX25hbWUgaW4gc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zLmtleXMoKToKICAgICAgICAgICAgY29tbWFuZF9pZCA9IGNtZF9zdHJpbmdfdG9faWQoZnVuY19uYW1lKQogICAgICAgICAgICBpZiBjb21tYW5kX2lkIGlzIE5vbmU6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBpZiBpZF9zdGFydCA8IGNvbW1hbmRfaWQgYW5kIGNvbW1hbmRfaWQgPCBpZF9lbmQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9VSU5ULCBjb21tYW5kX2lkKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9nZXRfc2Vzc2lvbl9ndWlkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9TRVNTSU9OX0dVSUQsIGJpbmFzY2lpLmEyYl9oZXgoYnl0ZXMoU0VTU0lPTl9HVUlELCAnVVRGLTgnKSkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3NldF9zZXNzaW9uX2d1aWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld19ndWlkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfU0VTU0lPTl9HVUlEKQogICAgICAgIGlmIG5ld19ndWlkOgogICAgICAgICAgICBTRVNTSU9OX0dVSUQgPSBiaW5hc2NpaS5iMmFfaGV4KG5ld19ndWlkWyd2YWx1ZSddKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9tYWNoaW5lX2lkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBzZXJpYWwgPSAnJwogICAgICAgIG1hY2hpbmVfbmFtZSA9IHBsYXRmb3JtLnVuYW1lKClbMV0KICAgICAgICBpZiBoYXNfd2luZGxsOgogICAgICAgICAgICBmcm9tIGN0eXBlcyBpbXBvcnQgd2ludHlwZXMKCiAgICAgICAgICAgIGszMiA9IGN0eXBlcy53aW5kbGwua2VybmVsMzIKICAgICAgICAgICAgc3lzX2RpciA9IGN0eXBlcy5jcmVhdGVfdW5pY29kZV9idWZmZXIoMjYwKQogICAgICAgICAgICBpZiBub3QgazMyLkdldFN5c3RlbURpcmVjdG9yeVcoY3R5cGVzLmJ5cmVmKHN5c19kaXIpLCAyNjApOgogICAgICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkVfV0lORE9XUwoKICAgICAgICAgICAgdm9sX2J1ZiA9IGN0eXBlcy5jcmVhdGVfdW5pY29kZV9idWZmZXIoMjYwKQogICAgICAgICAgICBmc19idWYgPSBjdHlwZXMuY3JlYXRlX3VuaWNvZGVfYnVmZmVyKDI2MCkKICAgICAgICAgICAgc2VyaWFsX251bSA9IHdpbnR5cGVzLkRXT1JEKDApCgogICAgICAgICAgICBpZiBub3QgazMyLkdldFZvbHVtZUluZm9ybWF0aW9uVyhjdHlwZXMuY193Y2hhcl9wKHN5c19kaXIudmFsdWVbOjNdKSwKICAgICAgICAgICAgICAgICAgICB2b2xfYnVmLCBjdHlwZXMuc2l6ZW9mKHZvbF9idWYpLCBjdHlwZXMuYnlyZWYoc2VyaWFsX251bSksIE5vbmUsCiAgICAgICAgICAgICAgICAgICAgTm9uZSwgZnNfYnVmLCBjdHlwZXMuc2l6ZW9mKGZzX2J1ZikpOgogICAgICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkVfV0lORE9XUwogICAgICAgICAgICBzZXJpYWxfbnVtID0gc2VyaWFsX251bS52YWx1ZQogICAgICAgICAgICBzZXJpYWwgPSAiJTA0eCIgJSAoKHNlcmlhbF9udW0gPj4gMTYpICYgMHhmZmZmKSArICctJyAiJTA0eCIgJSAoc2VyaWFsX251bSAmIDB4ZmZmZikKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZXJpYWwgPSBnZXRfaGRkX2xhYmVsKCkKCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfTUFDSElORV9JRCwgIiVzOiVzIiAlIChzZXJpYWwsIG1hY2hpbmVfbmFtZSkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX25hdGl2ZV9hcmNoKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9TVFJJTkcsIGdldF9uYXRpdmVfYXJjaCgpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9wYXRjaF91cmwoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKHNlbGYudHJhbnNwb3J0LCBIdHRwVHJhbnNwb3J0KToKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgbmV3X3VyaV9wYXRoID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfVVJMKVsndmFsdWUnXQogICAgICAgIGlmIG5vdCBzZWxmLnRyYW5zcG9ydC5wYXRjaF91cmlfcGF0aChuZXdfdXJpX3BhdGgpOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfbmVnb3RpYXRlX3Rsdl9lbmNyeXB0aW9uKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBkZWJ1Z19wcmludCgnWypdIE5lZ290aWF0aW5nIFRMViBlbmNyeXB0aW9uJykKICAgICAgICBzZWxmLnRyYW5zcG9ydC5hZXNfa2V5ID0gcmFuZF9ieXRlcygzMikKICAgICAgICBzZWxmLnRyYW5zcG9ydC5hZXNfZW5hYmxlZCA9IEZhbHNlCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfU1lNX0tFWV9UWVBFLCBFTkNfQUVTMjU2KQogICAgICAgIGRlciA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1JTQV9QVUJfS0VZKVsndmFsdWUnXS5zdHJpcCgpCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBSU0Ega2V5OiAnICsgc3RyKGJpbmFzY2lpLmIyYV9oZXgoZGVyKSkpCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBBRVMga2V5OiAnICsgaGV4KG1ldF9yc2EuYjJpKHNlbGYudHJhbnNwb3J0LmFlc19rZXkpKSkKICAgICAgICBlbmNfa2V5ID0gbWV0X3JzYV9lbmNyeXB0KGRlciwgc2VsZi50cmFuc3BvcnQuYWVzX2tleSkKICAgICAgICBkZWJ1Z19wcmludCgnWypdIEVuY3J5cHRlZCBBRVMga2V5OiAnICsgaGV4KG1ldF9yc2EuYjJpKGVuY19rZXkpKSkKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9FTkNfU1lNX0tFWSwgZW5jX2tleSkKICAgICAgICBkZWJ1Z19wcmludCgnWypdIFRMViBlbmNyeXB0aW9uIHNvcnRlZCcpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2xvYWRsaWIoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGRhdGFfdGx2ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfREFUQSkKICAgICAgICBpZiAoZGF0YV90bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfQ09NUFJFU1NFRCkgPT0gVExWX01FVEFfVFlQRV9DT01QUkVTU0VEOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKCiAgICAgICAgbGlibmFtZSA9ICc/Pz8nCiAgICAgICAgbWF0Y2ggPSByZS5zZWFyY2gocidebWV0ZXJwcmV0ZXJcLnJlZ2lzdGVyX2V4dGVuc2lvblwoXCcoW2EtekEtWjAtOV0rKVwnXCkkJywgc3RyKGRhdGFfdGx2Wyd2YWx1ZSddKSwgcmUuTVVMVElMSU5FKQogICAgICAgIGlmIG1hdGNoIGlzIG5vdCBOb25lOgogICAgICAgICAgICBsaWJuYW1lID0gbWF0Y2guZ3JvdXAoMSkKCiAgICAgICAgc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uID0gTm9uZQogICAgICAgIHN5bWJvbHNfZm9yX2V4dGVuc2lvbnMgPSB7J21ldGVycHJldGVyJzogc2VsZn0KICAgICAgICBzeW1ib2xzX2Zvcl9leHRlbnNpb25zLnVwZGF0ZShFWFBPUlRFRF9TWU1CT0xTKQogICAgICAgIGkgPSBjb2RlLkludGVyYWN0aXZlSW50ZXJwcmV0ZXIoc3ltYm9sc19mb3JfZXh0ZW5zaW9ucykKICAgICAgICBpLnJ1bmNvZGUoY29tcGlsZShkYXRhX3RsdlsndmFsdWUnXSwgJ2V4dF9zZXJ2ZXJfJyArIGxpYm5hbWUgKyAnLnB5JywgJ2V4ZWMnKSkKICAgICAgICBleHRlbnNpb25fbmFtZSA9IHNlbGYubGFzdF9yZWdpc3RlcmVkX2V4dGVuc2lvbgoKICAgICAgICBpZiBleHRlbnNpb25fbmFtZToKICAgICAgICAgICAgY2hlY2tfZXh0ZW5zaW9uID0gbGFtYmRhIHg6IHguc3RhcnRzd2l0aChleHRlbnNpb25fbmFtZSkKICAgICAgICAgICAgbGliX21ldGhvZHMgPSBsaXN0KGZpbHRlcihjaGVja19leHRlbnNpb24sIGxpc3Qoc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zLmtleXMoKSkpKQogICAgICAgICAgICBmb3IgbWV0aG9kIGluIGxpYl9tZXRob2RzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVUlOVCwgY21kX3N0cmluZ190b19pZChtZXRob2QpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9zaHV0ZG93bihzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfQk9PTCwgVHJ1ZSkKICAgICAgICBzZWxmLnJ1bm5pbmcgPSBGYWxzZQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfYWRkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfdHJhbnNwb3J0ID0gVHJhbnNwb3J0LmZyb21fcmVxdWVzdChyZXF1ZXN0KQogICAgICAgIHNlbGYudHJhbnNwb3J0X2FkZChuZXdfdHJhbnNwb3J0KQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfY2hhbmdlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfdHJhbnNwb3J0ID0gVHJhbnNwb3J0LmZyb21fcmVxdWVzdChyZXF1ZXN0KQogICAgICAgIHNlbGYudHJhbnNwb3J0X2FkZChuZXdfdHJhbnNwb3J0KQogICAgICAgIHNlbGYuc2VuZF9wYWNrZXQocmVzcG9uc2UgKyB0bHZfcGFjayhUTFZfVFlQRV9SRVNVTFQsIEVSUk9SX1NVQ0NFU1MpKQogICAgICAgIHNlbGYudHJhbnNwb3J0X2NoYW5nZShuZXdfdHJhbnNwb3J0KQogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9saXN0KHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBpZiBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUgPiAwOgogICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19TRVNTSU9OX0VYUCwgc2VsZi5zZXNzaW9uX2V4cGlyeV9lbmQgLSB0aW1lLnRpbWUoKSkKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19HUk9VUCwgc2VsZi50cmFuc3BvcnQudGx2X3BhY2tfdHJhbnNwb3J0X2dyb3VwKCkpCgogICAgICAgIHRyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0X25leHQoKQogICAgICAgIHdoaWxlIHRyYW5zcG9ydCAhPSBzZWxmLnRyYW5zcG9ydDoKICAgICAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfR1JPVVAsIHRyYW5zcG9ydC50bHZfcGFja190cmFuc3BvcnRfZ3JvdXAoKSkKICAgICAgICAgICAgdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dCh0cmFuc3BvcnQpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9uZXh0KHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dCgpCiAgICAgICAgaWYgbmV3X3RyYW5zcG9ydCA9PSBzZWxmLnRyYW5zcG9ydDoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgc2VsZi5zZW5kX3BhY2tldChyZXNwb25zZSArIHRsdl9wYWNrKFRMVl9UWVBFX1JFU1VMVCwgRVJST1JfU1VDQ0VTUykpCiAgICAgICAgc2VsZi50cmFuc3BvcnRfY2hhbmdlKG5ld190cmFuc3BvcnQpCiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X3ByZXYoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld190cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydF9wcmV2KCkKICAgICAgICBpZiBuZXdfdHJhbnNwb3J0ID09IHNlbGYudHJhbnNwb3J0OgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHJlc3BvbnNlICsgdGx2X3BhY2soVExWX1RZUEVfUkVTVUxULCBFUlJPUl9TVUNDRVNTKSkKICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UobmV3X3RyYW5zcG9ydCkKICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfcmVtb3ZlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICB1cmwgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19VUkwpWyd2YWx1ZSddCiAgICAgICAgaWYgc2VsZi50cmFuc3BvcnQudXJsID09IHVybDoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgdHJhbnNwb3J0X2ZvdW5kID0gRmFsc2UKICAgICAgICBmb3IgdHJhbnNwb3J0IGluIHNlbGYudHJhbnNwb3J0czoKICAgICAgICAgICAgaWYgdHJhbnNwb3J0LnVybCA9PSB1cmw6CiAgICAgICAgICAgICAgICB0cmFuc3BvcnRfZm91bmQgPSBUcnVlCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgIGlmIHRyYW5zcG9ydF9mb3VuZDoKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnRzLnJlbW92ZSh0cmFuc3BvcnQpCiAgICAgICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQogICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfc2V0X3RpbWVvdXRzKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICB0aW1lb3V0X3ZhbHVlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfU0VTU0lPTl9FWFApLmdldCgndmFsdWUnKQogICAgICAgIGlmIG5vdCB0aW1lb3V0X3ZhbHVlIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZSA9IHRpbWVvdXRfdmFsdWUKICAgICAgICAgICAgc2VsZi5zZXNzaW9uX2V4cGlyeV9lbmQgPSB0aW1lLnRpbWUoKSArIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZQogICAgICAgIHRpbWVvdXRfdmFsdWUgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19DT01NX1RJTUVPVVQpLmdldCgndmFsdWUnKQogICAgICAgIGlmIHRpbWVvdXRfdmFsdWU6CiAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0LmNvbW11bmljYXRpb25fdGltZW91dCA9IHRpbWVvdXRfdmFsdWUKICAgICAgICByZXRyeV92YWx1ZSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1JFVFJZX1RPVEFMKS5nZXQoJ3ZhbHVlJykKICAgICAgICBpZiByZXRyeV92YWx1ZToKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnQucmV0cnlfdG90YWwgPSByZXRyeV92YWx1ZQogICAgICAgIHJldHJ5X3ZhbHVlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfUkVUUllfV0FJVCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgaWYgcmV0cnlfdmFsdWU6CiAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0LnJldHJ5X3dhaXQgPSByZXRyeV92YWx1ZQoKICAgICAgICBpZiBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUgPiAwOgogICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19TRVNTSU9OX0VYUCwgc2VsZi5zZXNzaW9uX2V4cGlyeV9lbmQgLSB0aW1lLnRpbWUoKSkKICAgICAgICByZXNwb25zZSArPSBzZWxmLnRyYW5zcG9ydC50bHZfcGFja190aW1lb3V0cygpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9zbGVlcChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgc2Vjb25kcyA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX0NPTU1fVElNRU9VVClbJ3ZhbHVlJ10KICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHJlc3BvbnNlICsgdGx2X3BhY2soVExWX1RZUEVfUkVTVUxULCBFUlJPUl9TVUNDRVNTKSkKICAgICAgICBpZiBzZWNvbmRzOgogICAgICAgICAgICBzZWxmLl90cmFuc3BvcnRfc2xlZXAgPSBzZWNvbmRzCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfb3BlbihzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF90eXBlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9UWVBFKQogICAgICAgIGhhbmRsZXIgPSAnY2hhbm5lbF9vcGVuXycgKyBjaGFubmVsX3R5cGVbJ3ZhbHVlJ10KICAgICAgICBpZiBoYW5kbGVyIG5vdCBpbiBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnM6CiAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbLV0gY29yZV9jaGFubmVsX29wZW4gbWlzc2luZyBoYW5kbGVyOiAnICsgaGFuZGxlcikKICAgICAgICAgICAgcmV0dXJuIGVycm9yX3Jlc3VsdChOb3RJbXBsZW1lbnRlZEVycm9yKSwgcmVzcG9uc2UKICAgICAgICBkZWJ1Z19wcmludCgnWypdIGNvcmVfY2hhbm5lbF9vcGVuIGRpc3BhdGNoaW5nIHRvIGhhbmRsZXI6ICcgKyBoYW5kbGVyKQogICAgICAgIGhhbmRsZXIgPSBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnNbaGFuZGxlcl0KICAgICAgICByZXR1cm4gaGFuZGxlcihyZXF1ZXN0LCByZXNwb25zZSkKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF9jbG9zZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gY2hhbm5lbC5jb3JlX2Nsb3NlKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgIGlmIHN0YXR1cyA9PSBFUlJPUl9TVUNDRVNTOgogICAgICAgICAgICBkZWwgc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgICAgICBpZiBjaGFubmVsX2lkIGluIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHM6CiAgICAgICAgICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzLnJlbW92ZShjaGFubmVsX2lkKQogICAgICAgICAgICBkZWJ1Z19wcmludCgnWypdIGNsb3NlZCBhbmQgcmVtb3ZlZCBjaGFubmVsIGlkOiAnICsgc3RyKGNoYW5uZWxfaWQpKQogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfZW9mKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2lkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9JRClbJ3ZhbHVlJ10KICAgICAgICBpZiBjaGFubmVsX2lkIG5vdCBpbiBzZWxmLmNoYW5uZWxzOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIHN0YXR1cywgcmVzcG9uc2UgPSBjaGFubmVsLmNvcmVfZW9mKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF9pbnRlcmFjdChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICB0b2dnbGUgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9CT09MKVsndmFsdWUnXQogICAgICAgIGlmIHRvZ2dsZToKICAgICAgICAgICAgaWYgY2hhbm5lbF9pZCBpbiBzZWxmLmludGVyYWN0X2NoYW5uZWxzOgogICAgICAgICAgICAgICAgc2VsZi5pbnRlcmFjdF9jaGFubmVscy5yZW1vdmUoY2hhbm5lbF9pZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHMuYXBwZW5kKGNoYW5uZWxfaWQpCiAgICAgICAgZWxpZiBjaGFubmVsX2lkIGluIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHM6CiAgICAgICAgICAgIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHMucmVtb3ZlKGNoYW5uZWxfaWQpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfcmVhZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gY2hhbm5lbC5jb3JlX3JlYWQocmVxdWVzdCwgcmVzcG9uc2UpCiAgICAgICAgaWYgbm90IGNoYW5uZWwuaXNfYWxpdmUoKToKICAgICAgICAgICAgc2VsZi5oYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKGNoYW5uZWxfaWQpCiAgICAgICAgcmV0dXJuIHN0YXR1cywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF93cml0ZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICBzdGF0dXMgPSBFUlJPUl9GQUlMVVJFCiAgICAgICAgaWYgY2hhbm5lbC5pc19hbGl2ZSgpOgogICAgICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gY2hhbm5lbC5jb3JlX3dyaXRlKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgICMgZXZhbHVhdGUgY2hhbm5lbC5pc19hbGl2ZSgpIHR3aWNlIGJlY2F1c2UgaXQgY291bGQgaGF2ZSBjaGFuZ2VkCiAgICAgICAgaWYgbm90IGNoYW5uZWwuaXNfYWxpdmUoKToKICAgICAgICAgICAgc2VsZi5oYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKGNoYW5uZWxfaWQpCiAgICAgICAgcmV0dXJuIHN0YXR1cywgcmVzcG9uc2UKCiAgICBkZWYgY3JlYXRlX3Jlc3BvbnNlKHNlbGYsIHJlcXVlc3QpOgogICAgICAgIHJlc3BvbnNlID0gc3RydWN0LnBhY2soJz5JJywgUEFDS0VUX1RZUEVfUkVTUE9OU0UpCiAgICAgICAgY29tbWRfaWRfdGx2ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ09NTUFORF9JRCkKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhjb21tZF9pZF90bHYpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVVVJRCwgYmluYXNjaWkuYTJiX2hleChieXRlcyhQQVlMT0FEX1VVSUQsICdVVEYtOCcpKSkKCiAgICAgICAgaGFuZGxlcl9uYW1lID0gY21kX2lkX3RvX3N0cmluZyhjb21tZF9pZF90bHZbJ3ZhbHVlJ10pCiAgICAgICAgaWYgaGFuZGxlcl9uYW1lIGluIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uczoKICAgICAgICAgICAgaGFuZGxlciA9IHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uc1toYW5kbGVyX25hbWVdCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbKl0gcnVubmluZyBtZXRob2QgJyArIGhhbmRsZXJfbmFtZSkKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIocmVxdWVzdCwgcmVzcG9uc2UpCiAgICAgICAgICAgICAgICBpZiByZXN1bHQgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICBkZWJ1Z19wcmludCgiWy1dIGhhbmRsZXIgcmVzdWx0IGlzIG5vbmUiKQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgcmVzdWx0LCByZXNwb25zZSA9IHJlc3VsdAogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgZGVidWdfdHJhY2ViYWNrKCdbLV0gbWV0aG9kICcgKyBoYW5kbGVyX25hbWUgKyAnIHJlc3VsdGVkIGluIGFuIGVycm9yJykKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGVycm9yX3Jlc3VsdCgpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiByZXN1bHQgIT0gRVJST1JfU1VDQ0VTUzoKICAgICAgICAgICAgICAgICAgICBkZWJ1Z19wcmludCgnWy1dIG1ldGhvZCAnICsgaGFuZGxlcl9uYW1lICsgJyByZXN1bHRlZCBpbiBlcnJvcjogIycgKyBzdHIocmVzdWx0KSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBkZWJ1Z19wcmludCgnWy1dIG1ldGhvZCAnICsgaGFuZGxlcl9uYW1lICsgJyB3YXMgcmVxdWVzdGVkIGJ1dCBkb2VzIG5vdCBleGlzdCcpCiAgICAgICAgICAgIHJlc3VsdCA9IGVycm9yX3Jlc3VsdChOb3RJbXBsZW1lbnRlZEVycm9yKQoKICAgICAgICByZXFpZF90bHYgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9SRVFVRVNUX0lEKQogICAgICAgIGlmIG5vdCByZXFpZF90bHY6CiAgICAgICAgICAgIGRlYnVnX3ByaW50KCJbLV0gbm8gcmVxdWVzdCBJRCBmb3VuZCIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKHJlcWlkX3RsdikKICAgICAgICBkZWJ1Z19wcmludCgiWypdIHNlbmRpbmcgcmVzcG9uc2UgcGFja2V0IikKICAgICAgICByZXR1cm4gcmVzcG9uc2UgKyB0bHZfcGFjayhUTFZfVFlQRV9SRVNVTFQsIHJlc3VsdCkKCgppbXBvcnQgY29kZWNzLGltcCxiYXNlNjQsemxpYgptZXRfYWVzID0gaW1wLm5ld19tb2R1bGUoJ21ldF9hZXMnKQptZXRfcnNhID0gaW1wLm5ld19tb2R1bGUoJ21ldF9yc2EnKQpleGVjKGNvbXBpbGUoemxpYi5kZWNvbXByZXNzKGJhc2U2NC5iNjRkZWNvZGUoY29kZWNzLmdldGVuY29kZXIoJ3V0Zi04JykoJ2VOckYzRnR6SmNlVjNmRm44bE5BRXpFbUlCNVNkYitRaENKc3hqdzQrQ2lOWHhETmpycUtJRnRvQkhCSWRjdmo3KzY5L3d2b1drMDJxZERZRG5jSEpUUndMbFZaV1ptL25XY2xQcjc5Ni8zcmgvUEY4dnIrN2VueC9QRGpjajQ5dm4zOGVOMzJpK1c3SCs5K2VMeDg5WGcrWGR4ZGZmSHhSL3ZyaDR2Ymk5dTdpNGZwN2kvYlpYRjZ0ZDNsajY5Ty9QaWp0N2ZicS9VaXZuRnorOFh0cDNjdmVKV1h5OTh1Ly9iNlljMUhQR3puSHgvdStPZE44ZUtycjZybTZqLzByekwrVlhiUC82cmlYOFBWZi9CMS9mUXlqOVY4ZWQ3ZW5JL1h1WGgxKzNpK2pNZGNMbGQ1YUVzZUdnL1JNK2JxOFhLK3Zac2UzdHB6L3VWZlB2Lys5ZTNkNWZMZHcrWE0wK1o4MnRQam5vNzQ5ZDB5blYveTh0TnB0bWRQbjg0ZjMrNFgwVUtmLzdROVBONit2bnQ1ZTdlL2pwUDU0M1VkRDN0RHkxenp2eDkvOUl2ai9paWVlL3Q0ZS9kNG51NldqVytmNXJmbjdaRWZQcjlKZnZ2ajUzL2RmT0Q4WGp5OTlQc24rUHgwWHZENSswK1AvTUFaMlNucENWY2ZiNjhldC9nSi83NStOZjExWHFlTHg5UDJ4ZVBIMjEvdnoyK3YxVDgrdjUrV0h5NC8rZVRxNCtYVjlQaDQ4Vi8vN1U5Zi83ZXZMMS9QMzI4TFozbjM4SGo5UDh2dWk3STRWYzBYWlhXcXF5L0s1bjlGSThaaFhOK1VwK3JVbklaVDJjVVBUbDF6S3F2aFZQV25OcjRxNHF2NGZ0bVhwNzQvbGZHdHBqK044WU5oT0kzanFSemphVzE1YXV0NGFCY1ByZUtoOGUycVBWVnR2RnVkRDRubk5XMDAwWit1Yi9JcFZUeTd6UCt2NDJqaThVWDh2Q3g1WEJPdkZ0K29UMDM4TE42cktsdmV1aXpqTUlwNGJCMnZXWlR2WG44WVQvSFRxaW5pVWJYZXZjc2ppR2UxY2RCNUttWDhOOGIzaG56Rk9NbzQvSHJJVSt2eTdmdDR1ZWJVNXZQaUZhc3h2cFh2Vm5QU1RmeXpQT1h6eDFNZEx6bkdRK0pmOGI0dExSSEhQYWl0cWpqMWVFU2ViUi9mS3FPSjRsamp1WEVLWFRabEdVMC94bEYyY2N6VnFjMFhibWlwZUxzcWZoNEhVa2JiNTBFVzR5a2JyczlyVWVXUlJidVBwWm8zV3FhTWwybjdVeDl2MzUyR2JKWThoMEZOM2NjejQycDBmVjZzK0tLczYxT1hKeFgveFpIMnA2RTR4U0dVY1FCbE41eUdlRVEwUXpaVGswMFRUUll2SFMxWE5TMVh1SXlEcmVJazQyV2lQYW8yR3lEYkpxOUNQQ0plTTE2NDdrNWpTeS9vOGpEaWU5bjBjVUp4NmwwZWVKeDZObjQwUW52S24wVXp4NWxYVlhHcW96dkZpMFF6bGZFcWVmUjF2bW0wV254WlZYUzBhS0I4bDJqNWJQajRjWEdLYXgxZE5kNDJEeUI3U2J4TEg0OGVzcVBGZi9ud3ZETHgxTGdJVlJ4QUhIa1pEVnRtYzhmVnpZc1U3Wks5ZThpempkZW9zN05uejhvVzUyNFk4bERqR09QcXhHUHlHZkdOYU1EczgxVmVuQ3E3U2h4STNCclpYSG5KODcvc0FIRWJaWi9MczY5T2NXaloxK0xaelNrNmVmVENJYnRPUENmZk5Oc21udFptTjhyMnpSc3FqeUdlR3YvTS82ZUo4dHZSdytMdG82TlZkWGFVdVA3dHFjbVd5b3VYdlN1dmVQYWtlTlU4OTdqWThhYlJ3YnU4UG5GWDVmL0ZTOGNUOHc2T2psUGxiWGw3ZlJQWGVYeTZnK3U4Qy9QV2p5ZmxUUlN2bEIwaytra2VZOGs5VW5OblpsZkx1ems3Y050emMrWXg1azJWN1IzSG1TY1NSeCtkSWJwRzlvdThxRHI0bW1QZ3lJZThzclJ1WE14NFZsZlNEL3FPU3hrWHQrdTQyL01HakNzMzVQWGdYS050OC9TamplcnU2YzRidUZlaThmdGFWend1U2Q1UzJTelIvTm04WEltaVVPc1hEYzJkaDhYbzBXU255akZock5VZmhrbzNScUhMR3RkeUtCaEo4aGJOaTVqM0I1MHcrMjllMk96Nk9ZcTB1cWV6ZHo4UG9ZV3VVOTYyMldjTGpVRFJ0K0k3TFIwL3g0VG9tUjMzZER3ejJ6U2JPMDZWSzVEM2NSN2FVNCtyYzd4ODZuUXhFTFJQZDBDZlZ6ekg0V2ptdk0vbzNXM0plS3NCbzlPb21lZVNiNUhkSWxzNFRvOHUzWERuNUtDYVkyWmVzQnpING1ya0VKQjlYNk1jUFM5dnlKS0JNeDdEMk1td3hyaGZQNDN0TWJCeGQycUlhaGpGcXA3eExXNnp2Rnl0N3F0NHNieHZzOTBZLzBkRzc1d0w4bDdNVVNlZm1RMVQ2Z2FNanNWQTErVndIQU4xOXBoZUkzT1g4MFBla2psRWE1U0tMcGczWlk3SU9TNjIzS045RGo5NWMrUUV3QUNRNHlOelE4bEV3dGphRlJxRVJpYkNucEdMY2JMdkdHSnlBc2g3S3NmWE9MaWg1cGFMUnFpWXpockdRd2FWVXNOL3JUdWUyN3pJeVRRNlV3NjBPVkxuZFBubjh2cW1lTE4wWGQzVlUzc3EzdXhEdi9STGRKTGl6YmIxOFNlZUU5L3Qrcm1maHpXLzNQZHFyNHI4Y3UyNnVadG52dHk2dmR2bjZIMXZ4bkpwbDdiTlYraUtPdjdHTlMvZXhHa1cyVlBpemJhdTcvb3BYN2J0cXJtYSszeUJyZCszZlN2enUzTzc5bXNmMTZ0NDA2elRQTTFibHc5WTRsbmRPTVdYdzc1TXk5VGs0WmI3VUEzVm1LOHdqRXY4YmZMTjlpbGVZSTEyaXFmdCs3UlBaVDUycnRxeEhiYzVIN3MxZmRNdm5OcThGM3RSNUhlYmNscW5kVnZ5c2ZYYXJFMlhyOUR1VXpWVmU3NUYwOFpyN1ZzZVExeXVlTHQ1endmVVV6TTFPKy9XOUZWZmpYbTg0N3dVUzlIbTYvWnRORjYvNUFsdDViN3VhNWx2VWE5alBkYlRscSs3VkYzVmRmbTYzUkpYb212enkzNnI5M3B2c2szM2R1LzN2c2hYR09vbC9qVDV4dDFRTjNYVDVvdTE1ZFJPN1o2TnZwWmJ1N1YxZnJtUGU3bm5xQkp2WFBVeE9JeDVBYVo1SGFKeDhzc3U3c0E2dTFDY1VEUlNmSld2T3hSTi9NMlhIZHZvREgzTHBZakhSZ2ZQaGh6WHBWN3FObys4THFKenh5WElML3V4RzdzcEQzZUthOTRXK1ZMVlBrN2pOT2V6dHFLUHY5bmtjUnZIUUZobks1WHpVQXpGbUsyMDdsdTFWWFcyODdKdTh6WlgrWUFtRHJ5SzY1N3RzVWRucVJaNnk5UzNmVHZtTzhRdE94WmptYTlRcmtNOTFHTWVWenRVUzdYMDJRaDFYTlp5cWpqYXJwekx1YUxETHQzV3hYdmt0WTdMMms0YlQ1dW5ZaXIyZkxIb1h6Rnk3SGtNZlZmUDlkemswNkt6ZHRIdDh5VDdOYjVaTHp3dGJ1cHE3RG1MZGF1M3V1YTdXOXdvZTQ3SWIyTHNiSVptekM0eWRXMGR6VXlISE5keXpjRWwrK3hTYnV1MlZ0bnFUUkZEY2RIbGQ2TUxMUHRTNW9uMll4eDd1V1JUejEwN3QvUEdlVFRkMU1VdGtwZHRYZVpsYnZLSTQzYU5GbHhwdGVpcDlkamtzWTFOOU5QbzRQbmwwQ3pOc21iN3pFVTd0TU9Xcnp1MDhXWjdrNTB2YnV0aUxicDgydExHbmJsWCtkMW1uK0xQeHVWYzQ4Nlp5M3kzb1l0dVdDOTBqU2x1bTNYTkU0MHhKZjYwM0tVeGh3M3RtTzgyUkx0R2w4MFQyc2JvbjJOWkhHZWNYVFlHZ240ZnJCZmx6L3ZvOWZYUzVBdkVUUnhQbXptYWVScW1ZYU5QaHhQYWNzOHYyM1dxcDNyZmpvNWMwQ0gyK0p2UHF2ZTRWdFdValJkRC96cXVjN1o1WDBUWGlZdVVoMURHN2RZV0RHQjF0T2l5MHZ4OWpIWGR3b0h0TVV4RUQ4eERpUG1oU3JlOEcrRzRhbTJNa251Wjd4YTNlOXpGUlI3TnZLL1ZXbldNVmVXeVJ1dm5HOGYwR0FORnlhbDFjVE5HazJXYjE5dXlMVlcrOFJ5djFzYlFtSWZlanYzWVR3d0RReE4vbG55RmFvczd1Ni96WW8vUlNFdlRNbXkxVXovMWV6NTJYL3F0MzRiOHNwL3FOWWEyZk1BU2w2MXJKa2E3cVYzYmRjdnYxdEVtTVJ2bWRZOXh1bzZYNVhDaU4zWnhaK1R4am5IRDV6UWE3N1kxZXhPaldUWkpIZWV6OUhtOFRiUkp6T1I1TWRzbVJzNnA1OWFiNHk0dHBuemRlY2cvMldUREVrZlFMZGxPY1lqeHA4cVRpQ2xsaUxtR05oMUNPZEcxOGgzNnVEMjJuZ2tpZW1RYkQ4Nmo2WXE1bU10czAybGQ1M1h1ODMzWGVTdTJvczQzaTY0WjQxYkxiZHhFdjVpYVBKb1FVdHpvSlhkQ2lLT0pUbkNjWlo3REVJcUpJK05vWXpaYnRydys0eDVqU3RVeURxelJqSFhINEYzSFpMUnNlZXB4T2pHUVQvbG05UmpOV0U0TWpHSEtzWjBZbSt1dDJabzZHM3F2NGxLT0EyTkdHNWVucjdtczh6TEU3TXZZdkVYcnh5Q1hENWhpMElsem83dms0TTJCbFhITjJvNERXK0pWWS9ESW84bnhkdHp5U3ExRHQzUXhJR1RiTEczWGRqc2RNcWFVdlNub0FUR1ZiWEhuNUpjeExNV3NreWV4TjlGdjRyYktGK3ZqNTl1V2h4Q1lqWkc2elBPSmVUNW01UlV0RlAzUXg4WE14OFlMUlRzeklTNHhrRzk5SGs0ZFBiMWNxanlHdG8rQnF0c1pPbU0wblpzbGoySHM0eGk3TnIrN3pGc01ReFczYzduR256NVBjeHRpcG01R1pzeVlQY3U5QWhsZHZFQmNoRHljTWk3N3VpNmNjZlljaHBFaGh3YWJkaGhGNHE2S0M4QjlVTVlBMmk1NVhFdm9KK2JlYkp1eGlGRTZtdmVnUzc1VUg3THBDb2J4SmJyVlZ1WUx4SXdkNWNIRWhacGlRRy9iUFBNWUdtTmkydW5GNHh4L1YyNlpmdWlHYnVTNHgyaU9ySEhpYk9Ja3k3WEtSb2l1c0FWTXVOVGpWbTVKN1RqeU9ZZXNrdnRnSG9mb0szd1pxaTlUeS9IWUtpYmNjV2EyeW9GczdEVldaalBtYTlVeDdvL054RHVzZVRnelBUTm1tbktydUh2YXVIcjl5UG5rRVl4VnZrQUlNQWFmSmw5aG10cjRzM05SaTRCV1BEeS8yNFpoOXA3QmRNait5cy9IbUdXRFkwd3UrWmN6bjJJU1dVdW1nemFtaXhnNDg3ajdtSHE3T3RzalJyRzQweFp1MmlJYUtTNWZmamVFMEpRTHB6dm1uNWtoZklyaGMrMjVDN2FZRi9hU3ZqVEhBRkFzTk1JUVUwdXpaMCtJdXlYK3JQbTYxUklYS25TYjJxMVN1MU1yNy9MMjhpNVhSdDVsSXBWM1FRbmMxUjBQZDNYbndWMUdPSEdYQmxLZlFVVk1CbHdYY1JjdmlMdU1vZUl1QWhOM0dXL0ZYYVpSY1JkemlydTRTOXhsd2hSM3VWemlMdGRUM0tYemlMdGNXbkdYS1FqdHdtbHBWMWhBdTh4VzBpN0Vrblo1bHJUTHpTRHRjZ3RLdTdCSjJ1VytrSGE1VzZSZDdndHBsN3RGMnVXQ1NydlFXOXFGakdBWGJRaTdEQ25DTHVPVHNBdnRoRjFxQXF6TEhDanJNczdJdWlCZDFnVUFzaTRqUGtTQWNMSXVQVlhXaFhDeUxsT1JyTXZvSk9zeUFLSVVxaFpabDJHRVFRZHd5cnJVQTdJdThwZDFtZkpsWFFZTVdSZi95cnJNT2JJdVZwWjFtWGxsWFdZMVdSY0l5THJjNzdJdVpZK3NTMFVuNjFMMnlMb1VkN0l1OVphc3EyRVY2MUt4eWJyY2JiSXVvN0dzeTJncTZ6S2V5N29VTGJJdWxZcXNpM1NyUmRabGxKWDhxT1JrWFdRaTY2Sk1XUmNIeWJyVUlySXU0NldzQ3dkbFhjcFJXUmNneTdwTUpiSXVzNVdzSzI1Z1hXb2dXUmZDeWJvWVE5YUZ3ckl1ZzVpc0M3VmtYWWd0NnpLN3lycE1uckx1Y2NZWVVOWTllaEVTYm1SZFZDYnJVZ2JJdXN6ZnNpNVdsbldQanN6d0hhK1YySVZFd2k1bUVuYkJqYkRMSFlaMUdlaGtYU29SV1pmS1ZkYUZ3ckx1TWJ4cGdKZDFxYlNocmdaZnFFdGxLK3BpTGxFWHg0cTYzTzJpTHJXeHFBdm5SVjJtWjFFWFU0bTZZRUxVQlZLaUx2T0dxQXRkUkYzd0krcXl5aURxTXFXS3VsUzVvaTQxaHhESUxDYnFVbEtMdWhTaG9pNEZqcWhMcVM3cVVsMkx1cFRxQmRiRlY3SXVNNXFzQ3dkbFhXWmxXWmRDVDlhbGFwZDFLVzVsWGVwUldSZFd5N29zcHNpNkZNMnlMak9sckl1S1pkM2pORmx2a0hWWnZKQjFxYUZrWFJncTYzS0ZaVjJxV0ZtWFdWZldwV2FXZFZrTmtIVXhyYXhMZFNIcndtWlpGenJJdXFxdnNTN0ZRUUYyUWJ5d2kzbUVYV1FuN0ZMQ0M3dXMvUWk3WEN1c1M5RW82MUs4eWJxc0FzbTYxS0t5THNLV2RZRzVyRXU5SmV2aVgxbVg0bHJXWlZGRDFxV0FsSFVwYTJSZGxtaGtYUmFQWkYxTUt1dWllRm1Yd2xUV1pVRkIxdFdhQmRhbDVDN0FMa1Y3Z1hhUGlZZHhwSkoycVVxa1hUd243V0psYWZlUUM0TXcyR1ZaUmRpbHRoTjJXUXNUZGxsYkVuWWxON0RMNHArd1M4VXQ3T0piWVpjMUQyRVhPd3E3ckk4SXU2eThDYnY0VmRqVmNnVFlwVklYZGxueUs5QXU1YUcweStxSXRBdVdwVjNxUEdtWFNsM2FwVnlTZGxuWWxIWWh0TFJMd1N6dFFvd0M3bEplaUx1c01SUjRGK2ZMdTZyWThDN2xuN3liVjZLVGR5a3I1VjFxZlhtWHRSaDVsL1VHZVpmbEUzbVhHa25lcGFxWGQ3VVFpM2VwS3VUZDFHNmQyczExM2ZRdWZVM2U1ZFhsWGFaMGVaZWh0QUM4bWhVQnIrbzl3TXY4Si9BeUNhamJNTDB4STBCSmdaZnhWZUJsbmhKNG1UVUZYZ1pLZ1pjQlRlQmxvQlI0R2MwRlhnZ3I4TUpvZ1pkYlhlQmxDQkY0R2ZrRlh1YlZBdkV5RlVxOFdqSkR2TXd6RWkvamdzVExqU2p4TXFKSnZOenJFaSt6cmNUTGdDWHhnbWVKRjROS3ZBaFA0a1dERWk4R2xYZ2hkUUY1bWV0RVhtZ3I4bEp1aWJ5b1JPUmxrQ2t3TC95U2VibXJaVjc2bmN4TFhTRHpVamhBQllZbW1aZnhTT2FsTThxOERJUXlMOWFYZVJrczBBcEZpc3pMUGNuUXc3Z2g4M0pueUx6TVl6SXZoWW5NeTdBZzg0SlVtUmR6eUx5TUpwQ1hxVlRraFk4aUwvb1FlY0d4eUtzWkMvSlNZWWk4VEhraUw5WVhlWmsvUlY3ZFJKQ1hNVWprWmJZV2VVR1l5SXRhUkY1S1NKR1hHa1BrUlF3aUwrRE5aZDBrTDBPUEFNajlLL0pTVUlxOGxGSWlMNVdTeU10dEwvS0t3WkFYRDRtOGVGYmtoVndpTDBPd3lJdEdSVjROMTVDWEdWM2taV29RZWFrTlJGNW1hWkdYMmtEa1pXQVdlWmw5UkY0cVZaR1h5VUhrUGM2WTZWamtQVG9SeGRBaThsTHJpTHlnUXVSbDNoUjVtWWxFM3FNZnc2eGQ1R1dRRjNrcGxrVmVKaHFSbDVxa3dMeUlXT1pseHBCNUdiaGxYaVpobWZjWTRiaHN1OHdMeFF2UXE2VVkwRXZ4SnZRaWFjekxCQ2Z6VW5uTHZFeW5NaTkxazh4TENTRHpNcVBJdk16aU1pOXpuY3dMUEdWZXFrcVpGeS9KdkVoTzVtWFZRZWFsTUpaNUtVaUVRU29TbVpmQ1FPWkZIVEl2MDZuTVM2a2s4NklPbVJjbHlielVhREl2WmFmTXEya1A4MUlQeUx5VWF6SXZGYmZNcTJXV0pDOXlGWGxCbjhnTEprVmVaajJSbCtJYzhUSzNTN3pIU2NJMGlaYzFCWW1YVlF1SlZ5Wkh2QlFPRWkvTE5CSXZnNUxFUytFZzhZSm5pUmUvUzd6VUd4SXZSYTNFaTQwbFhwVktpSmRWSjRsWDdrUzhVRjdpWlMxSjRrWHRFaS9zbDNoWkdTa2dMNnMzSWkvTEdTSXZtQkY1V1pFUmVibnNpSmVLVStLRlFCSXZlSlo0V1dHUWVGbmRrWGdwQmlSZUlDN3hnaDJKbDhKYjRvV3pFaThyRnhJdjdwUjRxZUlsWGkyNUlWNXFDSW1YK2xiaVBhWWRPc01tOGJJU0kvRlNva204VkwwUzcwRVhsajRLeUV2MWlYaForWkI0S1ZRbFhpcE9pVmVmMnlGZUhDN3hjck5Mdk5ScUVpOHJOUkl2N3lEeDRrZUpsekpUNHNWNUVxOVdqeEV2S3h3U0x3V0x4TXRDZzhUTHlwTEVTN1VuOGJJc0tQRlMzRWk4TE9WSXZLeGFTTHlzYlVtOHJBTkl2QlJnRWk4M2xjU0x1U1ZlSmpuQXE0KzJBQytybUFJdk5ZakFxd1Vnd010U244RExtcXZBeTRLVndJdHM4QzRjbG5kWmFKVjNWUXZnWFpabTVOM1ViaVB0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjhpM2JsWGJRcjc2SmRlWmN1bzA3RFhNQnNnSGJsWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjhpM2JsWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjhpM2JsWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzljRW0za1c3OGk3YWxYZlJycnlMZHVWZGZacUNkOUd1dkl0MjVWMjBLKytpWFhsWG44bmlYYlFyNzZKZGVSZnR5cnRvVjk1RkNUZ0I3Y3E3YUZmZVJidnlyc3Ardkl0MjVWMmdBbFhRcnJ6THNNUEFveW9aNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzMGE2OHl6eUtkOUd1dkl0MjVWMjBLKzlxS1Jqdm9sMTVGKzNLdTJoWDNrVzc4aTdhbFhmUnJyeUxkdVZkdEN2dm9sMTVGKzNLdTJoWDNrVzc4aTREZ2J6N3BGMTVGL3RKZjJoWDNtVmVsM2ZScnJ5TGR1VmR0Q3Z2b2wxNUYrM0t1MmhYM2tXNzhpN2FsWGZScnJ5TGR1VmR0Q3Z2b2wxNVZ3RWd2SXQyNVYyMEsrK2lYWGtYN2NxN2FGZmVWY3dHN3g1bmpIYmwzYU1UU2J2eUx0cVZkOUd1dkl0MjVWMjBLKzhlL2ZoSnUzZ1g3Y3E3YUZmZVJidnlybUpEZUJmdHlydG9WOTVGdS9JdTJwVjNqeEZPMnBWMzljRXgza1c3OGk3YWxYYzFUcVIzMGE2OGkzYmxYYlFyNzZKZGVSZnR5cnRhUDhHN2FGZmVSYnZ5THRxVmQ5R3V2SXQyNVYyMEsrK2lYWGtYN2NxN1FGQVVmR0pQZWhmdHlydG9WOTVGdS9JdTJwVjNkWmZpWFdrWDc2SmRlUmZ0eXJ0b1Y5N1Y2amZlUmJ2eUx0cVZkNW5yOEM3YWxYZlJycnlMZHVWZHRDdnY2ajVQNzZKZGVmYzRTYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzMGE2OGkzYmxYYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzcFYyOGkzYmxYYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzMGE2OGkzYmxYYlFyNzJxY1R1K2lYWGtYN2NxN2FGZmVSYnZ5THRxVmQ5R3V2SXQyNVYyMEsrK2lYWGtYN2NxN2FGZmVSYnZ5THRxVmQ5R3V2Q3Z0NGwxcEYrOGUwNDYwSysraVhYa1g3Y3E3YUZmZVBlaUNkdVZkZGF6MEx0cVZkOUd1dkl0MjVWMjBLKytpWFhrWDdjcTcrbVFDNzZKZGVSZnR5cnRvVjk1OWlnYWtkN1dxaVhmUnJyeUxkdVZkYVJmdm9sMTVGKzNLdS9wc0ErK2lYWGtYN2NxN2FGZmVSYnZ5THRxVmQ5R3V2Q3Z0NGwyMEsrOUt1M2hYRTBsNjkrbFQ5RlVWbFlJTXJHY3F5TUJDa0lJTXJMQW95TUFpcG9JTWxiUXI3MHB0NlYyTkFIZ1g3Y3E3YUZmZVJidnlibXEzVGUzR1ZCSE53cG4wVzFOMkxYU0xvKytEWUxWV2cvdndEU3VPMGQwN2ZXWmE3dVBhdEV3TDA3SlA3WUNnbW5tTHJxSTF5K2d5dTBxREtialF5Y3ZEc0N5OVlpd3hyVlROd3R6VjVCVFY2M1BiTm1iWG1jYW91cnB0R2lhc3VZM0JwTWE0NnphWE1ZVFFBdTA4bFRNVGU5TnVVOHllR3IvM0xZb3dacE02ME5FK2ZWTGFMSHNoR1FWbVkrcGdrSnB6cVFmcXg2dkgxTUx5WXh1VDRnTHo1cjFibzhDbDE3VnhVNC9LbnNScERqWGRKNHFqcGlvWnhKb1lhanA5ckQxczRXR3R2dlJSNmc0ajk4UGVEREZtYTk0ZTI2SGVPaTFnem9HaFZWQ0pZWGlmbFFrWWhrbWhseVY2NHFUNnMxK1hMYWlxVk9FYTE0MlpjbXZqNWl2VlBmbzI3Z2RLaks1cTYzNUg1MEdUbU9hNDZhUGJ6OU9tajlhM0lTb3ZmZGcwRmtQVWp4eHZsTGVkUHQ4ZTR0azVwWEh2ckZ1MzZDYUlBOTZIV2F2dmZRejlsYWpmUkxmVTRtd2RIWDl2RmQ5czIybEcwWE1Wd2h5NEVhdEE1Vkp4bHd6ZDBzYjUwNmgxM1JlRElobFJSZzZLSFZiMUhKMklLaVdlMGVsenRDMmxxREYxaU00WG95cjFTdFJuYzhQa0ZjaUlwek1VTjFzM2JoV2paOWV1MDk0c3lneWtHYUZkV1RkZHBaS3BpVUY1VTc2enFhSnN3UFJSN3NTSXBqWGZZZHBLTkJBbFRzeDQxREJ6WE1oRjY2Y3haVzRhSHRvdDZvdTkwSkRjYldWQkxSSUZSemxNRkNCanQ4WjRTTG16cnZWV3RNcHdSeXZQSzFYRldMWXgrbEwyOVdVNFppMjA4dDdGajNlZFFWRnFDYkVjeDJHZkszMklNNGRwbVVHR0tQOGFmUTdROVd0VXJtQnRMdUxpVjh6VmZRNmptQ2tQdHAyWm1Qcm90OXNHRm1JRVdJcUorYTVmbXFyWU40M0RRMU51aTVnZXcxcDBGZ2FKcWtwNER4cFJ5eGg5ZWVPbG5hSm5VTE90MFRZN2hXVU1pL1ZBbVZ1dlUxeUZVckhxcUVVMDZrZlZrYXMzaklIdE1uVUs2K1VjcFRvdTV0QXVhaGpXdElzcDZsTFZqMjNJUVJWL0UvTjB4MHhRNXNRamxKRWJrTmE3Y28zK2g0L2orUHBtWm1LS3lhaUtZUTl3Vm1NOTZ3UHZlSWVpRWw1amdxdENFN1ZxdGprR2N2RnFqT3BBbjN3Tjg5SXJGQnoxeUVReGsyamJvc0FmdFB4VEJoY1pFbk5jNnBVb2lRdTJhaWxpaWp1MksrQnhWTGhsMVkyS1F2WlI3QUs4cHVseXVabTFwSmhCZWxWeXc5elVVWE5Sak00eGwzV3JGcVMzZFZjOVBBOWJDTDVUNUNTbW1nWGJOREhBRHEwaUdQWFlWNVZXd3B2d1E2a1FYOXRNVmROTDYvTWNJdzUyMmZheDFncFRITmdZTGNhOHNzWnR0ajk5eEJ3SFVXaEplK2phYXRPSGhVc1o1VDA2aXBjcXUwNUE2NHRaaXpmUk1qSFlzMHJSOUhIOXRFUThEWHZNcVZxeGp2cW5WaUM2alI0ZHhlK2dUMmZyQUEyckg0R2paZ1BONnhoczBPZkc4ZXdwN21FRjF0ZW1tS2w0NDA1dmh4THRUVzFjczAycWpoRnQyUFE1Mno1RmNVTEZXeTMxTks0c1k4UTFHMFp0WE9tbWRsK1dVVE50ekp3ZDZ3WjdsSnlsSkRUeTZUcFlpOTQ2eGdXbkcrYXI3YXhkakh1N0RnVzFUQmM2R21zczF1MXJXNjNnWlltU3BheFlkbGxpb0J0SEtvYW9ySWJ3cjVRWWM1Y1N4Qm11bWpYeEwxRlk5UVBlNkxaMkxBZXQ1aTVqbkIxWUh1b21YSVlNWW5Sc2d4OHFaL2Q5NjFoZ2lkNjl4R3pKQTRLcFlTaEdzaW1tcjNuVlIwWGRYbmVzV2tYbjNvdVJtcnNLbXZRTEsyQjFPVFV4OEZNVVJnVWFGNG4rRW8wMk5vbzN0bE1VUmhSUmZkTnM4NkpBOHhMdE03RWU4SFJmOGRoNjZ0ZWhmUHJFTWorWW9wZkVNQlFET3VQVHZxeHRvZFdVZml6M1Rrc3NYWlRmV2dKbzZtMmZDMWJPc2pzMGE2dXd5aGgxTm1zc1k4d3BjOHZTUXZUL2FSaFloSWtSWVNuM1dSOUZ4RnhXOXFxVG8rQ2FLTkRMWVluSlFaOGpEekdTd1BoNHA3a3BLVUdqczhVb2dkSEdHQk5XSmVTMnFQUmJmZlFWMDBETXpheUZqTW1ra3ZLdjdxZXlXSHA5S0IzdWJWaWJDL2pVOVRJSXBWT01sZm8wSko2MGpKVEJNZkF1VVF3eXVNZkFIUS9uRTdIb0QrdU9SSU92Z1d5Sy9USkJwQ2g4WHk5UlhqMXRROXJqQXJLU0ZIUExHcXBWZ0xWZW8xeUJCNkdhVmZIb0pUdE1UZFUrajkyd05MVUNHVEU4TjVVK0VKbnFwbUNwc013aHQrNFZJZ3R2dDZvc2gzcHBGRi9mOTJJZFd4WWI2M0VhQ21Vdlk4eU9VV2RUS2p2cU9vcTZybW03cFZRWU95dzZOSjBLd0tnSU9zVldVaFhhdHhNZGFHaERhS25kRHUwVzhpN25LdS9pUkhtWGlWbmVaU3lWZDdXY2pIZTFDSXQzbVhQa1hWcFczbFVVRXU4eWljdTdXRlhlcFpQTHU0ekc4aTduS3U4Q0wzbFhuei9oWFdaeGVWYzdiL0F1MTF6ZTFUaVYzR1Y2RW5lWlVzUmQ3ajV4bHhtL3dMdTRWdDVWM2hmdk1oTEt1OHhsOGk1R2szZTUxK1ZkSmlWNWwwRlIzcVdueUxzb1c5NEZPL0t1bHBEd0xqZXR2QXNaNVYzbWNYbVgzaXJ2TW9ES3V4aEkzc1gvOGk0RGg3ekxYQ2J2TXJ2THUyQlczaFhmOGE3MnBPQmRmZXlCZDdtNzVGMG9LdTlxSXh6ZVpVNlhkeG5vNUYwNkp0d0ZSbWlYKzF2YVZmZ2Q3WUlHYVJjaVM3c010UVhjMVNlTWNKZUpVOXpWaDlSd1Y4VWYzSVZzNGk2VGdMakxyVkhnWGFvMmVWZHl4cnNNYVBLdTFvTHdMa2RlQUY1Rk9BRXZkMmVCZUprd0pGNW9EWGhaZXhSNHFTb0VYdTFUQkx6d1FlRFZnaGZncGNBVGVHbFJ2TXRVV0FCZXhnZUJWenYvQUMvbGpzQ3JpQ2ZnaFJvQ3I5WkRBQytWWjRGNEdhTWtYbjBxakhpMVVRWHhNa0JMdkZSZkV1L3BLWXdKZVJsa1JGN3FYNUZYMVFiazFaSXc1SVVyQmVZRnh6S3ZBbTJZbHlHdEFMMEtESUJlSlVaQnIycHcwRXN4VjZCZU5YQ3JJR1R3RFBRcTFnMTZsWDBIdlZReFFpL1dFSG8xTElOZUxndm1wWnlVZVprMlpWNHQwR0JlMVJBNU4xUFl5N3pLNUdGZXJDTHpJa2labDJsVjVxVUlsWGtwQzJSZU9DVHphbk1XNW1VOVFPWlZuQW56TXJYTHZHaFQ1dFVIaEpoWG0rNHdML09VekF1ZFpGNHFLWm1Yd2xMbVZUQU04MUtseUx6UVZPWmx2cFo1V2V1UWVhazNaVjZZVllCZUpoK2hsMEpJNktYMEYzcVZQUU85TUZib1ZSa0tlbG1GRVhxWkFJVmVCVzVBTHdBWGVyR0swS3ZLSHZSU1ZnbTlhRkxvWmVJVmVsbGtFWHFWdkFXOXlFam8xZWlSNXFVRWszbTF1SUI1bWVWbFhuRVU4MnJmS3VabG5VZm1aWUZENXFXa2xIa3BBbVJlaGFZd0wydE5NaStWdmN3TGFHVmV4bGlaOTRrNEhRc3JleVB5Y3FzaFhvb0lpVmNERmVKbHRVdmlaVTRCdkZxTEE3elVFQUt2UHZFR3ZLejlDTHdVMndJdjVaekFpM3dGWHRZeEJGN0tTSUVYM0FtOHFrSUE3M0ZURlVyYUFWNmNMZkJTRUFxODJ1ZWUzbVVwUmQ1bFZVdmUxZWRPZUpmU1JON1YzbWk4eXhLTnZFdUZMTzlTSmNxN2dGcmVsVUNTdXl5c0ZYZ1hNc3E3MURieUxzVzB2S3V0TUhnWHZjdTdsSm55TG1XWnZLdjlwSGlYaFRONWwvVUxlWmNLV2Q2bGJKQjM5UmtoM3FVeWwzZnhzcnhMQ1NmdnNxd2g3N0trSis5U3VzaTcraEFSNzFLd3k3c3NUOG03Mm0yTGQxbkdrWGRGTHJ5TGwrVmRGc1BrWFgwTW1keWxTQmQzcVZ6RVhkWjJ4RjBXTmd1OHEvNk1kNmtpNVYyV0xlUmRWdW5rWFZWUGVKZUNYdDVON2Zic1V1dmxYVHErdk10OUx1OXFieExlQldueUxwaVNkN1hraFhmMTJXbHlsM0ZMM0dVOEZIY1Z3SVc3K2wwRWNCZmhpcnUwaGJnck1zSmRBUlh1MG4vRVhicWx1TXRrakhhNWlhUmRSRkxBWGZ3ajdpb0FCM2VaRzhWZEplVGdybklLY0pkZUorN1NaOFJkWm5oeGw1bFkzR1hLRkhjVndZSzc5RkJ4Vng5Z3dWMTZoN2pMeFJWM21ZckZYU1pOY1JjNWlMdk04T0l1TjcyNHkyQWk3bkliaWJ1Nk8rRXUxaEYzbWNIRlhSUW43bXJYSjl6VmFocmNWY3dZN2pJMWlidE1lZUl1MGhkMzlRbFdhcGU2Uk5xbENwSjJtVXdLdU10Y1VPQmRSbWQ1RjJuQ1hXMHpoTHNRV054VlJoWHVNaENMdThxR3dWMEtBWEZYZVJ1NEM4TEZYVVo5Y1ZmUlZyakxKQ1h1YWthRXU1Ujk0cTYydDhOZDVhcmdMbFdRdU10a0x1NHk2WXE3UUtYQXU0QkMzdVVzNVYydHpTZDNsUjFPN1NKUmFaZVJXdHJWa0FwM2xTaUh1MHdBNGk2S0ZIZTVEOFJkSldyaEx0d1RkN245eFYxOStBZDNHZG5FWGNaUmNaY3hBTzNTTkdEM2FjSk03SXE2bmJETFFDdnNhdDhFMk5XS1A5alZCL3hnRjFvTHU4QkIyTldtSzdDcnZYWmdsOWxQMkdXYUVuYTFWZ1oydGFrVTdLcGdSYnRhT2tlNyttQVo3Y3FKYUJmUFNic1lUZHJWSjFwb1Y5VVYzS1ZtRTNlMUZRanVLa1FBZDdXQ2tETXoxaEozQVlXNHE4MjVjRmNWSk54bFVFYTdGTHpTTHVXcXRJdTZwRjE0Sk8yS1BHaFh2N2NGN1NvOWpuYXA0S1ZkRmhHa1hSWW5wRjFoR08xQ2IybFh1RVM3VUZiYXBZNlNkaW5QcEYzOTdnYTBTelVwN2VJTWFSZlVTTHRNOHRJdW9wQjJLU3FrWFlvQ2FaZDZTZHFsMnBGMnRUaUxkcG10cFYxbVZXbFh1NUhRTHJXVnRFdGxKTzNxNHhtMHE4VzJ4SzRtYTdETHJDcnNnZ3RoRndRSXV4Uy93aTVGZFlGMktTZWxYYTM4b1YzOEl1MXFTUjN0YWo4ejJzV0IwaTdyT2RJdTYwVFNMb3NwMGk2TE5OSXVOWUcwU3dVaTdUS01TTHRVVE5JdTZ5b0YzR1ZWUk54bG5hTEF1Nnd6eUx2S2RlRmQvU0lPdkVzaFVBQmV4UXdBTDdvWGVDa2FCRjVhQis4Q2RubVhoUXA1bDBVUmVaZGxGWGxYaXpoNGwxSk8zdFdDSWQ0OTdpcjloZ2w1Vjh0YWVKZjFKM21YTmZjQzhMSzBKdkNDYjRFWE9ndTh5RmZnNVV1OHk5cUN2TXNpZ0x6TFVvaTh5NXFGdkFzSkM4Q3IzQzdnVmU0QzhHSTNnWmVTV09DbC9oWjRLZllGWGxZVUJGN3NKdkJxSEVudklrMTVGOEhLdTZ3THlMc3NQc2k3eWpIaVhWWUE1RjFNTCs5Q2NubFhlNjN4THNXR3ZLdGZpSVIzOVNzWjhDNXJMUEl1YXlIeUxnV3R2RXM1S3UvcVUxRzhTL2tzNzdKNEt1K3l5RmtBWG0yS0E3eXNNQXE4R2xqVHUvcmxXSGhYeS9CNGx5SlczbVh0VHQ1bHBWRGUxV2RoZUpkMUluazN0VHVrZHBWalVORlN5cnU4cGJ4THk4cTcrRVhlVlJmSHU0SXQzbVZBS3dDdlJqekFpM0VGWGtZSWdaZVJGTzl5bGVSZDdRUEh1L1FrZVZkN0FQQXVsMUhlWlVLU2Q5VUJBUzh6czhDcnZVS0FGMXNMdkl4TUFpOWVFM2lsTk1DcmNCL2dCZW9DcjhLY2dCY3RDYnowY1lHWG1WRGdWWXdZOElJN2daZVJWT0NsUUJCNEdlMEZYamdsOEhMTENieWFtQUV2WFZUZ3BROEx2TXpSQWkvM3BNQ3JoWHJBeTlRaDhGS3ZDTHdNOXdJdmdNUzcraFFBNzZxZXdidjZIWE40RjZIS3U5dzc4aTVpS0FDdmZpOGM0SlVVQWEvMm5nRmViUklBdlBCRDRPV1dLeEF2TkpaNE5lTWdYb1pYd010VUtmQXlLQXU4K2lWZGdCZnA0MTFLRUhsWFl5UGVmZHJwcFZ5V1VnejZQVXFkdUF1bXhGMXVhWEVYcW9xN2pLamlMcVdQdUl0VXhGM3RDNFM3ekNiaUxyV1J1QXR3Q3J4TDZWTUFYcVliZ1JmYkNiemFmd1I0Nlk5NGwvRmQzbVVDa0hmeHNyeXI0Q3JlUlkveUxsT1h2S3VBRmQ3RllQSXVsWnE4eTl4VkFGNlFYQ0JlUmhpSlY5NHRKRjVLSm9rWExrbThTZ29nWHYwK3dBUXZ5Qko0dGE0TmVQV0xNd0F2aFJiZVplU1NkN1hZZ0hjVmU4QzdYRGE0cTg4VTRLN0NBWEJYb1RXNHE1UXMzRVY4NGk2MW9MaXJmQUxjQlIvaUxtV2h1QXNKeFYzbHdPR3VQckxPaVZtL1F3cnVNdnFLdTFRSTRxNCtFWU83cXNYeExwQ1JkK202OGk1SEEzY3BHc1JkL1dvM3VFdVJJKzVTMllpNzJ1QU9kL1Y3NHVBdWs0VzRxMDNSY0JjcWlidXNBWWk3Y0ZuYzFXK1dncnRZU3R6VkFqcmNSZG5pTGlXVnVJdDB4RjBLSW5GWHYyWVA3aktOaWJ2VVJ1S3Vma2tlM0tWcUUzZjE0VGJjWmMxQzNBVjg0cTUrMXhMY1ZSSVg3bXFMTzl5Vm9PQXU1V0tCZDdYQWluZFoxSkIzRWFHOHk0cUR2TXN5Zzd5ci9BL2UxZG9WM2xVR0VPOVNwOHE3VDc4VWEzdUtnbzd5TGpPL3ZFc2hLKzlpTzNtWEVsRGVoUWJ5THFzZThpNkNsWGRabXBGM3FZUGtYUW9sZVpkVkdubFh1NGJ4TGdzcjhpN09rSGVwU09WZEFDcnY2bGNiNFYzcVNYa1hBY203cXV3Qkw2Z1VlS21WQlY3OTJoL0F5d0tHd0tzUFZ3QXZSWXJBcTZRSDREM3VxMEsvZ2c3d2lranBYZFlaNUYyVUp1OVMzY3E3MmplTGR4bDg1RjE5QUlkM0tZb0x3RXR4SlBDeXNpTHc2amRZQVY0dEJRSmU3WlFFdkpSaUFpL0xOQUl2U3k5NGwySmMzbFc0SE85cUFRVHZJbko1Vnp2MDhTNUZaQUY0dFdFTjhHb3JLK0NsZ0JaNFFiTEFxOS83QkhoUnRNQ3JQUU9BVjcvNkR2RENhSUVYV3d1OFZHVUNyejVrQXJ4VXVnSXZhNUFDcjhvMndNc2ltY0NybkJuZ1paRlM0RVg5QWk4clVBS3ZkaUFEWHVZb3ZNc3lRUUY0bFNWSTd5cWRobmNwRmVSZGZpN3ZVb0hMdThyUDRWMzlDa0c4RzlyOTkveDl1Kzhsenl5NlpzazBpMkpZdXM3U2M1Yk1zZGlucFlBdHYyZHhVc3RYV0NyR1FsQVdxck1VaitYY0xPWmpvVG5MZUZpTzBWS1psaml4Y0pWRmR5enJaVGtyejVBZHNTOUxDVnF3eVdKVWxpaXhuSnVsY1Mzb2FvbFVTN0pZV01taXNwWTNzK3lPUldnc3ltaFJJMHZqV3BiWkV0bVdxTEpNc1dleTNpV2NqMWlleGJnOWdIZkV1RDFZZmNRWExaVms2U0dQSng4cE5rdGJXaERjb280ZVQvNWczdHF5bjVacTliamZFYUcxR0xHbHR5eEpaMmxwQzFSWkF0cVNsNWJIdFFTWkplWXRKR1ZCYjRzbGViRHZTT0Y2N3ZYSXRsbnF6aUxTUitqNFNCcGI0dmZEZVRlTGFWbE8wWkpURm92MjJQS1I3YmJRNlJHV1B2Sll0ai9BQXE0V2NQWU05eEhSdENpbEphQXRsMmw1Ymd1aVd1VFVVcUFXS2JkUW1TVWFMUjdwOGJ3amhtOTdDWjZUWXUvbjFpd3NhSEZEMjY1Z213MHNPMmNwYXN1OWV2N2M5aDBjU1VuUG5CNEJZb3ZBSDNuckk3eHR1eFVzN1d6aGJZc2FXeGJkazRuSFpnVGJQMkRoWDhzWFcxemVVb0dXT0xVdEZ4Wnp0SVM1YmZ1d29LU0ZIMjJ2Z1cwUHNJMGpsc2kzclNlMmVjSkM3cFpPdGJTbnBYU1BQTHRubkMzQ2JGRkx5NEpidnRMaXE3YmZ3YUxybHJPMmJLbHRFYkJVOFpGOVA2TCtGcDYwMUtZbDdpMllia2xqMjRCajJWK0x0dHNlRTlzTFlwdGJMQTV0K1dNTDhWcTAxT0t0bHJTM2pUQzJaY0tTeHBaTXQ3ejZFZXMvTm4xWTdObDJHTmhHRGR1blpNRlMyMFJrdXhoc3U0cHRwTEMwdEFYdExldHN1MzBzZ201cFhjdXVXc3JkOWlrZGV4K082TENGN3kxRmJ5RjQyMWxrcVg4TDgxcisyVGFMMkJZaGl4bmJCZ0JMeWR1K0FkdUJaZUZ2eXhiYjdocmIxV0hiYnl6VmIvdU5iQStYSmQ5dG40dkYwcCszYUtWMksybjNTSjFaYXMxU2FSYkZzR1NkQmVjc21HT3hUMHNCVzNqUDRxU1dyN0JVakFXZ0xFOW5JUjdMdUZuS3h3SnpudkU0WW95V3lyVEVpUVdyTExwak1TL0xXRmw4ekJKZkZoQzBYSk5GcUN4UlloazNTK05hME5VaXFSWmxzYXlTUldVdGFtYlpIWXZRSENIR0kybGtXVnlMTWxzZTIrSlVsaWkyUUpZRm5DMlJaekZ1eTk1WmpOdUMxUlpkdEZTU3BZY3NubXdKTmd0YVdoRGNZbzRXVC81dzN0cGlueFpxdGFTZkpXZ3RTR3pwTFV2UldWcmFBbFdXZ0xiVXBjVnhQVUZtaWZrakpHVkJiNDhsSGFFK0MrRmE1dFdpYlVmbTdvaElXK1RZY3NZVytQMXczczFpV3BaUnRPU1U1YUl0dEd6WmJndWNXbHJhRWxtMlE4RGlyWlp3dGh5MzVUTXRSMmtSYUF0bFdxVGJZcWdXT0xVSTZCRXFQMUpsbG1mMGFPUVJ6N01ZdnUwbGVFNkt2WjliczdDZ3BRMXR1NEp0TnJEc25HV29MZkpxQVhUYmVHQkJTWXViV25qWVF2Q1d0cmJ3dHUxWDhLanpFZDYyb0xHRjBTMmJhTnNSYkFlQlJYOHRYV3lCZWNzRkhublRZOCtGeFJ3dFgyN2JQaXdvYWVGSDIydGdHd1JzNDRnbDhtM3JpVzJlc0l5N2gxT1B0S2NsZEk4MHUrZWJQYjU4UkMwdEIyNzVTa3V2Mm40SFM2MWJ4dHF5cGNjR2dTTlBiS2wzUy9wYmVOSlNteGEzdDFDNnBZeHRBNDRGZjkrRjJtMkhpZTBFc2EwdGxvTzI1TEVsZUMxWWF1RldpOWpiTmhqYkwyRXBZOHVrVzFMZDh2eTI2OE1pejdhOXdEWnEyRDRsUzViYUppTGJ3MkRiVld3ZmhVV2xMV1R2VWVkanQ0K2x6eTJ0YStGVkM3amJQaVhiK0dEaFlZdmVXNGJlRXZDMnQ4Z3kveGJuUFFMUXgyWVIyeUprTVdNTC8xdEEzdllNMkE0c3kzNWJ0dGkyMTlpV0R0dC9ZNEYrMjI5a2U3Z3M5VzdiWEN5VS9yeEhLN1ZiUzd0SDdNeHlheFpMc3lpR2hlc3NPMmZCSE10OVdnclk4bnVXSi9WOHhaR0tzUWlVSmVvOHhIT2szQ3psWTRrNXkzaFlqdEZpbVpZNHNXaVZSWGNzNk9VcHF5TkFacUV2andnZXNTWUxVVm1peEZKdUZzZTFxS3RsVWkzSjRsbWxJeXRyYVRQTDdsaUV4bktNRmpXeU9LNmxtUzJSYllFcUN4VmJKTXN5enBiS3N5QzM1ZStPSVBjUnJiYnNvcWVTanZTUTVaTXR3MlpSUzB1Q1c5RFI4c2tmRGx4Yjh0TlNyWmIxT3lLMFI0N1lzbHVXb3ZPd3RNV3BqZ0MwcFM0dGptdnhNY3ZMVzBUS2N0NFdTckpRbjJWd0xmUnF3VFpMM0ZsRTJqUEhSOURZRXI4ZmpydFpUTXRTaXBhY3NtQzBwWll0M0cyUlU0dExXeUxMZGdoWXZ0VVN6aGJrdG9TbVJTbVBDUFNSeXJSRXQ4VlFMWERxRWRBalZHNmhNc3N6V2pqUzBubVd3N2ZOQk05SnNmZHphNVlWdExTaDcxYzR0aHRZZHM1QzFCWjZ0UVM2N1R5d29LUWxUajA5ZktUZ0xYQnQ2VzNic0dCaDV5TzlmUVNOTFlwdXdVVGJqV0FiQ0N6NmErbGl5OHRiS3REeXByYnB3bEtPRmpDM2ZSK1drN1RzbzIwMnNBMEN0blBFSXZtMjljUjJUMWpJL2NpbUhsbFBTK2dlY2ZiMzhzMUhmTm1DbGhZRHQzU2xaVmR0djRQRjFpMWpiY2xTMng5Z2lXSUx2bHZVMzhLVGx0cTB4TDJsMGkxbmJEdHdMUGxydVhiZlpISnNCckhkTFJhR3R2U3haWGd0V21ycFZvdloyMDRZM3pKeDVJd3RsMjVwZFF2MTI4WVBpejNiSGdQZnEzSHNWTEpvcWUwak92WXhIQnRXYkNPRlphVXRabTlKWjl2dVkvbHpDK3UraTY1YXdOMjJLZG5PQjBzT1cvVGVNdlNXZ0xldFJaYjV0ekN2eFo5dHQ0anRFYktVc2NYL0xTSnZ1d1pzQzVaRnZ5MWJiUHRyYkZlSGJjQ3hTTDl2T0RvMmNWbnUzVGE2V0NqOWVaTldhcmVSZG8vY21RWFhMSmRtU1F6TDFsbDJ6bkk1bnZzOFVzQ1czdk00NlpHdnNGQ01SYUFzVW1jWkhrdTVXY2pISTNOSHhzTnlqSmJMdE1DSlJhc3N1V05KTDB0WmVZTHNDSDFaUnRCaVRSYWlza1NKeGR3c2pXdEpWNHVrSGtHV0k2bGtTVm5MbWxsd3gvSXpGbU8wbkpHRmNTM0tiSGxzUzFOWm90anlXQlp3dGxDZXhiZzlmbmZFdUQxWmZZUVhMWlJrNFNHUEp4OFpOczlhSGtGd0N6cDZQUG1EZVd0TGZscXExY04rUjRUV2M4UkhlTXR5ZEphV3RqelZrWUErWXBlV3hyWDRtT1hsTFNGbE1XOExKWG1vNzhqZ1d1YlZjbTJXdUxPRXRJV09MV2xzaWQ4UHg5MHNwV1VwUlV0T1dURGFZOHNXN2o0eXAwZGMrc2hqMmY0QWk3ZGF3TmxDM0JiUXRDQ2xKYUF0bFdtQmJzdWhXdUxVTXFDV0tiZE1tZVVaTFJ4cDRUeUw0ZnRtZ3FlazJQdXhOY3NLV3RyUTlpdlliZ09MemxtSTJsS3Zsa0MzalFlV2s3VEVxY1dITFFOdmNXdExiOXQrQlVzN1czcmJvc2FXUnJkb29tMUhzQjBFbHY2MWdMRkY1aTBXYUlsVDIzVmhPVWVMbUI4YlA0NmNwR1VmYmJPQjdRK3dqU09XeWZldEo4Zm1DUXU1V3piVndwNlcwVDNpN0I1eHRnU3pKUzB0Q1c3eFNndXYyb1lIQzY1YnpOcWlwYlpGd0RMRlIvTDlpUHBiZHRKQ201YTN0MWk2NVl4dEE0NGxmeTNZYm50TWJDK0liVzd4TVBTUlByWUlyeVZMTGQxcU9YdmJDR043Sml4bmJNRjBpNnNmb1g3YjlYR0VubTEvZ1czVnNIMUtsaXUxWFVTMmljSDJxOWhHQ3N0S1c4N2VrczYyMjhjQzZCYld0ZXlxWmR4dG81SnRmYkRvc0tYdkxVWnZJWGpiVzJTeGYwdnpXZ0RhdG92WUppSExHZHNPQUV2SjI4WUIyNFJsNFc4TEZ4OGJiSTVOSGI3LzVzajAyMzRqMjhSbHVYZmI1MktoOU9jOVdxSGRkZHN2WHI2OHZiczl2M3g1K2JpOTJrOC9iRyt2dnZqNG80OXU5NHRYMjkxbC92UHU5Zm5pOXU0eTdwR0FiVjN4NDQ4ZXB0dkg3ZUovVEs5KzNQN3Q0ZUgxdytVbi8vM3VwK25WN1hvUlQ3bDR2UDM3OXNsVlBPNWhmYnpPMS8zODd1SHg1dmtGWDN6SnQxNStzMTNmM0JRdmZ0OWM3SzhmTG03alRTN2VQRXgzZjlrdTQybWZsc2ZqMW4vMHVJZTc5ZVVQeS9YVHYzL2ZmUG5OMTlmUDcvYUhQelJmbm4rNHZuazhQL3k0bkQvLzhlNStXbjY0L09TUHQ1L2t5ZDdjZm5IN2FmUGlLbDcvNXk5ZW5KNWY0dFRrZXl5djcrNWYzOTZkdDRmcjRzdno5VGRmeC9uOThqbmZmSzBHZWo3Rm05czRnQmMzdC8vYXZMZysvM0J6ZTV6VVRSenRaNWY1NHl2L2VUejViOS9kdnRvdXpoZGZYZWpFZU1Iek9YLyt6ZGVmbFMvaWZPSjR2NzIrNUpwOS9xZWJ5L1A1ajM4c3U2di9Vclh0aTYrK3FwcXJiOS83MGZEOGszak11NStjejAvZkhLNis5UWZIcy9uQjB3UHp2Ry9zNVBYNlY5NGVuMTZYZVlUUlo3NzUrbmZYQTRmN2k2WXAzelZObkV1ZTZMZWNiNXhPZm05NzliajkrdlArOElmcTE1LzZybVhpVVUrTnc5ZlpRTytmNnE4MHl2Q3oxam9hMHB2cnZiWlJHM3p3ZUhudlQzLzdiTCsvTHZML2RKMi8vK3FicnkrbXUvWGkvSlZkN3FNRG5lbEE1NmNPOHYzUE85QlpIY2grL24xY2p5L1B1aWg1ZEEvdnRXWThTUWVXUC9yK3ZiN2JQQjF4Tk9qeEhpL2VmOHY4NTFPNy9udjVzdzZqNzFidnQrTFRkK3YzR3YzcG04M3psYm5TV0xUZExURWFhU1M2UC90QUZQLzYzWFhaL2NyWTg3ZUgxM2QvdVpoZnZWNSt5RWYvNWZ6ZHU5RW5uL3pjbEZlZmxWOWVQcGFueCtyMFdGOWQzNVNuNmxTLytIS2k1TSsvMFhtdWJ5NWZMbitMOTd0cGZuLzdSZnlYbzhPMzd5NUdFYmZxaTZ0ZjN2WnhDZjV4YTk5K3NMV25lTVduRnYxenRtajg4K2R0K3VkczA1dkwyMDhmeTZ1NHpqOXYzRC9YenordTlPUDNXdm5QMGNyOHNNNGYyZy95ZkI0NEg4YVg2K1gxL2R2UDgzOHVKMXJ2TVJyanhjZS9jZWhIUDlteUwrWkxmUm5QK255NnY5L3VWaHVkM2orbDUwN0RQNjkrNVJrZk90bm5mdlVQbi9pelpuanFlYi8rdEYrMHovbXNCMmN6Yk9jZkgrNHU0bG5xbyt0MjlOSGx2VDRhLzdyNDNmWEYvMkV2WFgvZVMrdm9wZVdIZStueXdWNjYvci91cGUydjlOTHV0M3RwLzV1OWRQalZYcnIrMytxbDYyLzAwdHQvdnB2ZS9xZjc2ZTEvc3FQZS9sTTk5WDVhM3h0S2x4aEFQN3Q4R2szL05ZN3ZlTTc5K2RQNTdYbDd2RnkrZTdoY3JuNi9uRDc1OGJ4L05uenlORENubW43K1lqRkVhanFMN245K2U3L0Y4MzUzSFI2ZzBaZnIxdzlyZk1mZjR1YUx6NVlYN3diNmg3ZjNaNzNpN1U4L0creHZmL3F0d1Q2NWVodlUvUHQwdm4xOWQvSFR0cHpqMHYvMXg4Znp4YnpGM1hmQm1YQnJ2Vk9GT3NDclpiNSsrVmpOK1FieDNmdW5qcEduRmdkd0hPcjIxL3Z6MjgrL0Q5eGMzdkNJbkpmbXk1azdhczQrdG56MzQ5MFBqL0dzVXpTanoxN3pQejk1M2IrYVVsRnZ6azlEd3dmUEpJNlZJNCtYK3ZJK1R1UG04djdiVjNrOGwvZW5WMWR4UkgrL3ZjL0RlWGVpNy9TY0ovM3VKT0tNNHRsMnFpL242dkh5ZU5LN0llNjlxN1A4LzdnNng2QWFYZlYzMThXdnZOOXllLy9kOWtEelBiL0pGRis5T3QvZWg2MWU3L0dXbjlqNThsYnF6Yis0eWpteWYrZ3FMMDlYK1dpZDU4djhpL0gvTnhyR0R2UTNydk56R3l4NW5jOGZ2c3p2RGphT1BLN1pyMXp6WmY3WlZjNHUvcjhCaVV1RU53PT0nKVswXSkpLCdtZXRfYWVzJywnZXhlYycpLCBtZXRfYWVzLl9fZGljdF9fKQpleGVjKGNvbXBpbGUoemxpYi5kZWNvbXByZXNzKGJhc2U2NC5iNjRkZWNvZGUoY29kZWNzLmdldGVuY29kZXIoJ3V0Zi04JykoJ2VOcWRWRTJQbXpBUVBZZGY0UjRpYk9GRXdWRldxMmpkUTA4OTlROUVLREt4VTZ3Q1JqWjAwMy9mOFFkaG0yNTcyQXVZekh0djVzMTRrdWx1TUhaRTdwZWpuUmdiYWtVdlRVZHIzUXQzMFJvSmgycEJqY3V1MW5USWpYYTZqQ2lScG40UWx4OGVNcjBYOXNGTU80YTRsOS8rVk5acDA1OTFmelduWGZXeXo2UzZvbnJFTlRsbUszMUZBSVhEeXFweHNqMnFzL2xrckFSTVJETWQ0U21rZTZDTGJjM0V1VkUzQ05IeUtTSTFxN0gyeUlibjYxdSsxaUZGcTNyY2tEWGp2UFNwR3NUelhWNDBJZGFiY1M2aDRjMVc5UmNqRmM2bjhicDV6c2s5SmFRVHJBN3BtcGpLT2d3ZFNpYkV5VlNjZ3l2dkh1ZGZjcnE3UFplRUxNN3dGSDRHWUZGV0JEcEJXV0ZBWDdXSmpqaEhEd0xzVWVEejE2UndOTVUrcXV5OVNxZ0hlcFRxb1FaeEtNOS96Z1p3ZlRKQTBoV0Z4OXpWVHQyblVJUFdwd2NEKzkwZitiK1pYbEgvQU5Fek5URkRTUkxkUE5EWlA3bTRnN3A0TExmNEFGOXhRQmZzV0MzZTRINTBoUHFYSXRHY1ZOYmJrOG1lL0pBOUdleTlOcnBWeUx6NFd4VDBvdURmQTU4RlY2YmdjZG95ellxRldVRW9UUHM5N3U2d2NObC9nZnNFdk5jWW03aHNVUEFkRWxja0tEbDFYT0p2ZmNackxNNXc2VEUwakhidXU5ZnVxT0p6LzVRbGZwbFNBYjRDbUV5Mmtud3BDVDViemc1UG03aG00ZVdWTnJGaDJXcmd4bTJuK0JlRER5VWpXNnVHVmx6VUcxK0V4bk5PbHAzenl6eVkxekRlcGhoT3g3WXFaT0dscWFJZEFIOERSZ2RlSkE9PScpWzBdKSksJ21ldF9yc2EnLCdleGVjJyksIG1ldF9yc2EuX19kaWN0X18pCnN5cy5tb2R1bGVzWydtZXRfYWVzJ10gPSBtZXRfYWVzCnN5cy5tb2R1bGVzWydtZXRfcnNhJ10gPSBtZXRfcnNhCmltcG9ydCBtZXRfcnNhLCBtZXRfYWVzCmRlZiBtZXRfcnNhX2VuY3J5cHQoZGVyLCBtc2cpOgogICAgcmV0dXJuIG1ldF9yc2EucnNhX2VuYyhkZXIsIG1zZykKZGVmIG1ldF9hZXNfZW5jcnlwdChrZXksIGl2LCBwdCk6CiAgICByZXR1cm4gbWV0X2Flcy5BRVNDQkMoa2V5KS5lbmNyeXB0KGl2LCBwdCkKZGVmIG1ldF9hZXNfZGVjcnlwdChrZXksIGl2LCBwdCk6CiAgICByZXR1cm4gbWV0X2Flcy5BRVNDQkMoa2V5KS5kZWNyeXB0KGl2LCBwdCkKICAgIAoKX3RyeV90b19mb3JrID0gVFJZX1RPX0ZPUksgYW5kIGhhc2F0dHIob3MsICdmb3JrJykKaWYgbm90IF90cnlfdG9fZm9yayBvciAoX3RyeV90b19mb3JrIGFuZCBvcy5mb3JrKCkgPT0gMCk6CiAgICBpZiBoYXNhdHRyKG9zLCAnc2V0c2lkJyk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBvcy5zZXRzaWQoKQogICAgICAgIGV4Y2VwdCBPU0Vycm9yOgogICAgICAgICAgICBwYXNzCgogICAgaWYgSFRUUF9DT05ORUNUSU9OX1VSTCBhbmQgaGFzX3VybGxpYjoKICAgICAgICB0cmFuc3BvcnQgPSBIdHRwVHJhbnNwb3J0KEhUVFBfQ09OTkVDVElPTl9VUkwsIHByb3h5PUhUVFBfUFJPWFksIHVzZXJfYWdlbnQ9SFRUUF9VU0VSX0FHRU5ULAogICAgICAgICAgICAgICAgaHR0cF9ob3N0PUhUVFBfSE9TVCwgaHR0cF9yZWZlcmVyPUhUVFBfUkVGRVJFUiwgaHR0cF9jb29raWU9SFRUUF9DT09LSUUpCiAgICBlbHNlOgogICAgICAgICMgUEFUQ0gtU0VUVVAtU1RBR0VMRVNTLVRDUC1TT0NLRVQgIwogICAgICAgIHRyYW5zcG9ydCA9IFRjcFRyYW5zcG9ydC5mcm9tX3NvY2tldChzKQogICAgbWV0ID0gUHl0aG9uTWV0ZXJwcmV0ZXIodHJhbnNwb3J0KQogICAgIyBQQVRDSC1TRVRVUC1UUkFOU1BPUlRTICMKICAgIG1ldC5ydW4oKQo=')[0]))